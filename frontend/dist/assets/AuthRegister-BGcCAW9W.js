import{a7 as A,bp as I,r as j,j as e,bq as W,aW as k,aX as x,aP as C,G as a,S as m,J as c,X as d,b4 as o,I as L,U as D,B as N,T as w,f as b,L as P,A as R,d as T}from"./index-BE75cmpZ.js";import{u as M}from"./useScriptRef-IHXzUKmT.js";import{s as $,a as z}from"./password-strength-_dbWWfI_.js";import{I as G}from"./InputAdornment-CY-Tyt4a.js";import{E as J}from"./Eye-BRgheOyE.js";import{E as V}from"./EyeSlash-CGe2uNp7.js";function Q(){const{register:S}=A(),g=M(),v=I(),[n,B]=j.useState(),[h,F]=j.useState(!1),E=()=>{F(!h)},q=s=>{s.preventDefault()},f=s=>{const i=$(s);B(z(i))};return j.useEffect(()=>{f("")},[]),e.jsx(e.Fragment,{children:e.jsx(W,{initialValues:{firstname:"",lastname:"",email:"",company:"",password:"",submit:null},validationSchema:k().shape({firstname:x().max(255).required("First Name is required"),lastname:x().max(255).required("Last Name is required"),email:x().email("Must be a valid email").max(255).required("Email is required"),password:x().max(255).required("Password is required")}),onSubmit:async(s,{setErrors:i,setStatus:t,setSubmitting:p})=>{try{await S(s.email,s.password,s.firstname,s.lastname),g.current&&(t({success:!0}),p(!1),C({open:!0,message:"Your registration has been successfully completed.",variant:"alert",alert:{color:"success"}}),setTimeout(()=>{v("/login",{replace:!0})},1500))}catch(u){console.error(u),g.current&&(t({success:!1}),i({submit:u.message}),p(!1))}},children:({errors:s,handleBlur:i,handleChange:t,handleSubmit:p,isSubmitting:u,touched:r,values:l})=>e.jsx("form",{noValidate:!0,onSubmit:p,children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsxs(a,{item:!0,xs:12,md:6,children:[e.jsxs(m,{spacing:1,children:[e.jsx(c,{htmlFor:"firstname-signup",children:"First Name*"}),e.jsx(d,{id:"firstname-login",type:"firstname",value:l.firstname,name:"firstname",onBlur:i,onChange:t,placeholder:"John",fullWidth:!0,error:!!(r.firstname&&s.firstname)})]}),r.firstname&&s.firstname&&e.jsx(o,{error:!0,id:"helper-text-firstname-signup",children:s.firstname})]}),e.jsxs(a,{item:!0,xs:12,md:6,children:[e.jsxs(m,{spacing:1,children:[e.jsx(c,{htmlFor:"lastname-signup",children:"Last Name*"}),e.jsx(d,{fullWidth:!0,error:!!(r.lastname&&s.lastname),id:"lastname-signup",type:"lastname",value:l.lastname,name:"lastname",onBlur:i,onChange:t,placeholder:"Doe",inputProps:{}})]}),r.lastname&&s.lastname&&e.jsx(o,{error:!0,id:"helper-text-lastname-signup",children:s.lastname})]}),e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(m,{spacing:1,children:[e.jsx(c,{htmlFor:"company-signup",children:"Company"}),e.jsx(d,{fullWidth:!0,error:!!(r.company&&s.company),id:"company-signup",value:l.company,name:"company",onBlur:i,onChange:t,placeholder:"Demo Inc.",inputProps:{}})]}),r.company&&s.company&&e.jsx(o,{error:!0,id:"helper-text-company-signup",children:s.company})]}),e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(m,{spacing:1,children:[e.jsx(c,{htmlFor:"email-signup",children:"Email Address*"}),e.jsx(d,{fullWidth:!0,error:!!(r.email&&s.email),id:"email-login",type:"email",value:l.email,name:"email",onBlur:i,onChange:t,placeholder:"demo@company.com",inputProps:{}})]}),r.email&&s.email&&e.jsx(o,{error:!0,id:"helper-text-email-signup",children:s.email})]}),e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(m,{spacing:1,children:[e.jsx(c,{htmlFor:"password-signup",children:"Password"}),e.jsx(d,{fullWidth:!0,error:!!(r.password&&s.password),id:"password-signup",type:h?"text":"password",value:l.password,name:"password",onBlur:i,onChange:y=>{t(y),f(y.target.value)},endAdornment:e.jsx(G,{position:"end",children:e.jsx(L,{"aria-label":"toggle password visibility",onClick:E,onMouseDown:q,edge:"end",color:"secondary",children:h?e.jsx(J,{}):e.jsx(V,{})})}),placeholder:"******",inputProps:{}})]}),r.password&&s.password&&e.jsx(o,{error:!0,id:"helper-text-password-signup",children:s.password}),e.jsx(D,{fullWidth:!0,sx:{mt:2},children:e.jsxs(a,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(a,{item:!0,children:e.jsx(N,{sx:{bgcolor:n==null?void 0:n.color,width:85,height:8,borderRadius:"7px"}})}),e.jsx(a,{item:!0,children:e.jsx(w,{variant:"subtitle1",fontSize:"0.75rem",children:n==null?void 0:n.label})})]})})]}),e.jsx(a,{item:!0,xs:12,children:e.jsxs(w,{variant:"body2",children:["By Signing up, you agree to our  ",e.jsx(b,{variant:"subtitle2",component:P,to:"#",children:"Terms of Service"}),"  and  ",e.jsx(b,{variant:"subtitle2",component:P,to:"#",children:"Privacy Policy"})]})}),s.submit&&e.jsx(a,{item:!0,xs:12,children:e.jsx(o,{error:!0,children:s.submit})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(R,{children:e.jsx(T,{disableElevation:!0,disabled:u,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Create Account"})})})]})})})})}export{Q as A};
