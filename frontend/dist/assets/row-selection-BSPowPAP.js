import{r as d,j as e,y as m,M as y,S as w,F as C,B as b,P as R,G as f}from"./index-BE75cmpZ.js";import{u as P,f as h,g as T,e as O}from"./index-OdbGXu2K.js";import{S as M}from"./ScrollX-CyXoT44w.js";import{L as I}from"./LinearWithLabel-KVFg8Iwf.js";import{I as x,C as K,R as v,T as z}from"./Filter-y71UMtT7.js";import{m as D}from"./react-table-Lij528qs.js";import{T as N,a as k,b as H}from"./TableContainer-s0yUIJEg.js";import{T as V}from"./TableHead-DpC64hQ0.js";import{T as p}from"./TableRow-D1lYbwwu.js";import{T as S}from"./TableCell-BOHhKnuh.js";import{u as Q,Q as L,a as q,b as B,k as W}from"./useBaseQuery-1_FwYxHN.js";import"./DocumentDownload-DDJvvIVF.js";import"./Slider-BUeMRvnO.js";import"./visuallyHidden-Dan1xhjv.js";import"./Send-DGO5bAte.js";import"./Pagination-BWXH2B2W.js";import"./index-ZtNy4ppB.js";import"./Checkbox-DNUoWgPJ.js";import"./Minus-YvqWlFLu.js";import"./mock-data-CjOvdTvj.js";import"./index-cq_cuLYi.js";function E({data:o,columns:i}){const[a,g]=d.useState({}),r=P({data:o,columns:i,state:{rowSelection:a},enableRowSelection:!0,onRowSelectionChange:g,getCoreRowModel:T(),getPaginationRowModel:O(),debugTable:!0});d.useEffect(()=>g({5:!0}),[]);let u=[];return i.map(s=>s.accessorKey&&u.push({label:typeof s.header=="string"?s.header:"#",key:s.accessorKey})),e.jsx(y,{title:"Row Selection",content:!1,secondary:e.jsx(K,{data:r.getSelectedRowModel().flatRows.map(s=>s.original).length===0?o:r.getSelectedRowModel().flatRows.map(s=>s.original),headers:u,filename:"row-selection.csv"}),codeHighlight:!0,codeString:JSON.stringify({rowSelection:a,"flatRows[].original":r.getSelectedRowModel().flatRows.map(s=>s.original)},null,2),children:e.jsx(M,{children:e.jsxs(w,{children:[e.jsx(v,{selected:Object.keys(a).length}),e.jsx(N,{children:e.jsxs(k,{children:[e.jsx(V,{children:r.getHeaderGroups().map(s=>e.jsx(p,{sx:{"& > th:first-of-type":{width:"58px"}},children:s.headers.map(l=>e.jsx(S,{...l.column.columnDef.meta,children:l.isPlaceholder?null:h(l.column.columnDef.header,l.getContext())},l.id))},s.id))}),e.jsx(H,{children:r.getRowModel().rows.map(s=>e.jsx(p,{children:s.getVisibleCells().map(l=>e.jsx(S,{...l.column.columnDef.meta,children:h(l.column.columnDef.cell,l.getContext())},l.id))},s.id))})]})}),e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsx(b,{sx:{p:2},children:e.jsx(z,{setPageSize:r.setPageSize,setPageIndex:r.setPageIndex,getState:r.getState,getPageCount:r.getPageCount})})]})]})})})}function G(){const o=D(100),i=d.useMemo(()=>[{id:"select",header:({table:a})=>e.jsx(x,{checked:a.getIsAllRowsSelected(),indeterminate:a.getIsSomeRowsSelected(),onChange:a.getToggleAllRowsSelectedHandler()}),cell:({row:a})=>e.jsx(x,{checked:a.getIsSelected(),disabled:!a.getCanSelect(),indeterminate:a.getIsSomeSelected(),onChange:a.getToggleSelectedHandler()})},{header:"First Name",accessorKey:"firstName"},{header:"Last Name",accessorKey:"lastName"},{header:"Email",accessorKey:"email"},{header:"Age",accessorKey:"age",meta:{className:"cell-right"}},{header:"Visits",accessorKey:"visits",meta:{className:"cell-right"}},{header:"Status",accessorKey:"status",cell:a=>{switch(a.getValue()){case"Complicated":return e.jsx(m,{color:"error",label:"Complicated",size:"small",variant:"light"});case"Relationship":return e.jsx(m,{color:"success",label:"Relationship",size:"small",variant:"light"});case"Single":default:return e.jsx(m,{color:"info",label:"Single",size:"small",variant:"light"})}}},{header:"Profile Progress",accessorKey:"progress",cell:a=>e.jsx(I,{value:a.getValue(),sx:{minWidth:75}})}],[]);return e.jsx(E,{data:o,columns:i})}E.propTypes={data:R.array,columns:R.array};function J(o,i){return Q(o,L)}const $=new B;async function X(o){await new Promise(a=>setTimeout(a,500));const i=D(100);return{rows:i.slice(o.pageIndex*o.pageSize,(o.pageIndex+1)*o.pageSize),pageCount:Math.ceil(i.length/o.pageSize)}}function U(){const o=d.useMemo(()=>[{id:"select",header:({table:t})=>e.jsx(x,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler()}),cell:({row:t})=>e.jsx(x,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler()})},{header:"First Name",accessorKey:"firstName"},{header:"Last Name",accessorKey:"lastName"},{header:"Email",accessorKey:"email"},{header:"Age",accessorKey:"age",meta:{className:"cell-right"}},{header:"Visits",accessorKey:"visits",meta:{className:"cell-right"}},{header:"Status",accessorKey:"status",cell:t=>{switch(t.getValue()){case"Complicated":return e.jsx(m,{color:"error",label:"Complicated",size:"small",variant:"light"});case"Relationship":return e.jsx(m,{color:"success",label:"Relationship",size:"small",variant:"light"});case"Single":default:return e.jsx(m,{color:"info",label:"Single",size:"small",variant:"light"})}}},{header:"Profile Progress",accessorKey:"progress",cell:t=>e.jsx(I,{value:t.getValue(),sx:{minWidth:75}})}],[]),[i,a]=d.useState({}),[{pageIndex:g,pageSize:r},u]=d.useState({pageIndex:0,pageSize:10}),s={pageIndex:g,pageSize:r},{data:l}=J({queryKey:["data",s],queryFn:()=>X(s),placeholderData:W}),A=d.useMemo(()=>[],[]),F=d.useMemo(()=>({pageIndex:g,pageSize:r}),[g,r]),c=P({data:(l==null?void 0:l.rows)??A,columns:o,pageCount:(l==null?void 0:l.pageCount)??-1,state:{pagination:F,rowSelection:i},getRowId:t=>t.id.toString(),enableRowSelection:!0,onRowSelectionChange:a,onPaginationChange:u,getCoreRowModel:T(),manualPagination:!0,debugTable:!0});d.useEffect(()=>a({1:!0,5:!0,7:!0}),[]);let j=[];return o.map(t=>t.accessorKey&&j.push({label:typeof t.header=="string"?t.header:"#",key:t.accessorKey})),e.jsx(y,{title:"Row Selection (Pagination Control)",content:!1,secondary:e.jsx(K,{data:c.getSelectedRowModel().flatRows.map(t=>t.original).length===0?c.getRowModel().rows.map(t=>t.original):c.getSelectedRowModel().flatRows.map(t=>t.original),headers:j,filename:"rsp-control.csv"}),codeHighlight:!0,codeString:JSON.stringify({rowSelection:i},null,2),children:e.jsx(M,{children:e.jsxs(w,{children:[e.jsx(v,{selected:Object.keys(i).length}),e.jsx(N,{children:e.jsxs(k,{children:[e.jsx(V,{children:c.getHeaderGroups().map(t=>e.jsx(p,{sx:{"& > th:first-of-type":{width:"58px"}},children:t.headers.map(n=>e.jsx(S,{...n.column.columnDef.meta,children:n.isPlaceholder?null:h(n.column.columnDef.header,n.getContext())},n.id))},t.id))}),e.jsx(H,{children:c.getRowModel().rows.map(t=>e.jsx(p,{children:t.getVisibleCells().map(n=>e.jsx(S,{...n.column.columnDef.meta,children:h(n.column.columnDef.cell,n.getContext())},n.id))},t.id))})]})}),e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsx(b,{sx:{p:2},children:e.jsx(z,{setPageSize:c.setPageSize,setPageIndex:c.setPageIndex,getState:c.getState,getPageCount:c.getPageCount})})]})]})})})}function Y(){return e.jsx(q,{client:$,children:e.jsx(U,{})})}function je(){return e.jsxs(f,{container:!0,spacing:3,children:[e.jsx(f,{item:!0,xs:12,children:e.jsx(G,{})}),e.jsx(f,{item:!0,xs:12,children:e.jsx(Y,{})})]})}export{je as default};
