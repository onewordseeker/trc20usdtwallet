import{r as p,a7 as B,j as e,M as F,d as J,F as K,B as L,P as g}from"./index-BE75cmpZ.js";import{header as N}from"./basic-BhYIRbLw.js";import{C as U,R as $}from"./Filter-y71UMtT7.js";import{T as G,a as Q,b as X}from"./TableContainer-s0yUIJEg.js";import{T as S}from"./TableRow-D1lYbwwu.js";import{T as u}from"./TableCell-BOHhKnuh.js";import{C as R}from"./Checkbox-DNUoWgPJ.js";import{M as Y}from"./MoneySend-CdQkuaRl.js";import{T as Z}from"./TablePagination-yp4c3Gen.js";import{T as _}from"./TableHead-DpC64hQ0.js";import{T as w}from"./TableSortLabel-q9xAQJhZ.js";import{v as ee}from"./visuallyHidden-Dan1xhjv.js";import"./DocumentDownload-DDJvvIVF.js";import"./LinearWithLabel-KVFg8Iwf.js";import"./Slider-BUeMRvnO.js";import"./Send-DGO5bAte.js";import"./Pagination-BWXH2B2W.js";import"./index-ZtNy4ppB.js";import"./Minus-YvqWlFLu.js";function C(s,l,n){return l[n]<s[n]?-1:l[n]>s[n]?1:0}const te=(s,l)=>s==="desc"?(n,a)=>C(n,a,l):(n,a)=>-C(n,a,l);function ne(s,l){const n=s.map((a,o)=>[a,o]);return n.sort((a,o)=>{const x=l(a[0],o[0]);return x!==0?x:a[1]-o[1]}),n.map(a=>a[0])}const se=[{id:"id",numeric:!1,disablePadding:!1,label:"Wallet ID"},{id:"name",numeric:!0,disablePadding:!0,label:"Public Key"},{id:"balance",numeric:!0,disablePadding:!1,label:"Balance(USDT)"},{id:"partner",numeric:!0,disablePadding:!1,label:"Partner"},{id:"transfer",numeric:!0,disablePadding:!1,label:"Tranfer"}];function v({onSelectAllClick:s,order:l,orderBy:n,numSelected:a,rowCount:o,onRequestSort:x}){const d=i=>h=>{x(h,i)};return e.jsx(_,{children:e.jsxs(S,{children:[e.jsx(u,{padding:"checkbox",sx:{pl:3},children:e.jsx(R,{color:"primary",indeterminate:a>0&&a<o,checked:o>0&&a===o,onChange:s,inputProps:{"aria-label":"select all desserts"}})}),se.map(i=>e.jsx(u,{align:i.numeric?"right":"left",padding:i.disablePadding?"none":"normal",sortDirection:n===i.id?l:!1,children:e.jsxs(w,{active:n===i.id,direction:n===i.id?l:"asc",onClick:d(i.id),children:[i.label,n===i.id?e.jsx(L,{sx:ee,children:l==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))]})})}function ye({rows:s,_openTransferModal:l}){const[n,a]=p.useState("asc"),[o,x]=p.useState("name"),[d,i]=p.useState([]),[h,P]=p.useState(0),[T]=p.useState(!1),[f,I]=p.useState(5),[k,A]=p.useState([]),E=(t,m)=>{a(o===m&&n==="asc"?"desc":"asc"),x(m)},O=t=>{if(console.log(s[0]),t.target.checked){const m=s.map(r=>r.name);i(m);return}i([])},D=(t,m)=>{const r=d.indexOf(m);let c=[];r===-1?c=c.concat(d,m):r===0?c=c.concat(d.slice(1)):r===d.length-1?c=c.concat(d.slice(0,-1)):r>0&&(c=c.concat(d.slice(0,r),d.slice(r+1)));const j=s.filter(W=>c.includes(W.name.toString()));A(j),i(c)},M=(t,m)=>{P(m)},H=t=>{I(parseInt(t==null?void 0:t.target.value,10)),P(0)},q=t=>d.indexOf(t)!==-1,y=h>0?Math.max(0,(1+h)*f-s.length):0,[z,V]=p.useState([]),{logout:ae,user:b}=B();return p.useEffect(()=>{const t=JSON.parse(b==null?void 0:b.permissions);V(t)},[]),e.jsxs(F,{content:!1,title:"Wallets",secondary:e.jsx(U,{data:k.length>0?k:s,headers:N,filename:"selected-table-data.csv"}),children:[e.jsx($,{selected:d.length}),e.jsx(G,{children:e.jsxs(Q,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:T?"small":"medium",children:[e.jsx(v,{numSelected:d.length,order:n,orderBy:o,onSelectAllClick:O,onRequestSort:E,rowCount:s.length}),e.jsxs(X,{children:[ne(s,te(n,o)).slice(h*f,h*f+f).map((t,m)=>{if(typeof t=="number")return null;const r=q(t.name),c=`enhanced-table-checkbox-${m}`;return e.jsxs(S,{hover:!0,onClick:j=>D(j,t.name),role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[e.jsx(u,{padding:"checkbox",sx:{pl:3},children:e.jsx(R,{color:"primary",checked:r,inputProps:{"aria-labelledby":c}})}),e.jsx(u,{component:"th",id:c,scope:"row",padding:"none",children:t.id}),e.jsx(u,{align:"right",children:t.name}),e.jsx(u,{align:"right",children:t.balance}),e.jsx(u,{align:"right",children:t.partner}),z[1]=="1"&&e.jsx(u,{sx:{pr:3},align:"right",children:e.jsx(J,{onClick:()=>l(!0,t.name),item:!0,variant:"contained",sx:{mr:1},startIcon:e.jsx(Y,{}),size:"large",children:"Transfer"})})]},t.name)}),y>0&&e.jsx(S,{sx:{height:(T?33:53)*y},children:e.jsx(u,{colSpan:6})})]})]})}),e.jsx(K,{}),e.jsx(Z,{rowsPerPageOptions:[5,10,25],component:"div",count:s.length,rowsPerPage:f,page:h,onPageChange:M,onRowsPerPageChange:H})]})}v.propTypes={onSelectAllClick:g.any,order:g.any,orderBy:g.any,numSelected:g.any,rowCount:g.any,onRequestSort:g.any,rows:g.any};export{ye as default};
