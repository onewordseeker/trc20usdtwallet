import{r as j,a4 as ee,a5 as o,a6 as te,P as f,c as S,j as e,X as re,ad as M,S as C,T as O,I as v,aa as ne,Y as R,e as E,f as oe,g as ae,ah as se,ai as ie,h as H,aP as W,G as p,M as D,B,n as F,bc as le,K,d as I,ay as V,aM as ce,aN as de,b3 as ue,k as he,w as $}from"./index-BE75cmpZ.js";import{i as pe,u as z,P as U,A as me,H as xe,E as ge,h as fe,d as je,b as ke,C as X,j as be,k as Ce,D as ye,I as ve,l as Me,m as Ie}from"./ItemDetails-CVQIklY1.js";import{S as we}from"./ScrollX-CyXoT44w.js";import{M as Te}from"./MoreIcon-TXN54Jo3.js";import{s as Ee}from"./index-cq_cuLYi.js";import{S as Z}from"./Skeleton-CpgMpkyu.js";import"./redux-2smOZOIh.js";import"./DocumentUpload-a6GGyN8B.js";import"./MultiFile-CUEap6OC.js";import"./ListItem-eemVPKEi.js";import"./ListItemSecondaryAction-DuTfPZL3.js";import"./Document-B8_fGyzr.js";import"./DesktopDatePicker-Dk1ljeGu.js";import"./dateViewRenderers-BUIkIYe-.js";import"./InputAdornment-CY-Tyt4a.js";var De=["variant","color","size"],Se=function(t){var r=t.color;return o.createElement(o.Fragment,null,o.createElement("path",{d:"M16 2H8C5.24 2 3 4.24 3 7v10c0 2.76 2.24 5 5 5h8c2.76 0 5-2.24 5-5V7c0-2.76-2.24-5-5-5ZM8.86 18.63c-.19.19-.44.29-.7.29a.99.99 0 0 1-.71-.29 1 1 0 0 1-.3-.71c0-.26.11-.52.3-.71.09-.09.2-.16.32-.21.25-.1.52-.1.77 0 .06.02.12.05.17.09.06.03.11.08.15.12.19.19.3.45.3.71a1 1 0 0 1-.3.71Zm-1.71-4.71c0-.13.03-.26.08-.38A.998.998 0 0 1 8.54 13c.06.02.12.05.17.09.06.03.11.08.15.12.09.1.17.2.22.33.05.12.07.25.07.38a.99.99 0 0 1-1.38.92 1 1 0 0 1-.62-.92Zm5.71 4.71c-.09.09-.2.16-.32.21a.984.984 0 0 1-1.09-.21 1 1 0 0 1-.3-.71c0-.07.01-.13.02-.2l.06-.18.09-.18c.04-.05.08-.1.13-.15a1.017 1.017 0 0 1 1.41 0c.19.19.29.45.29.71 0 .27-.1.52-.29.71Zm0-4a.99.99 0 0 1-.71.29c-.26 0-.51-.1-.7-.29a1 1 0 0 1-.3-.71c0-.26.11-.52.3-.71.37-.37 1.04-.37 1.41 0 .09.1.17.2.22.33.05.12.07.25.07.38 0 .27-.1.52-.29.71ZM9 10.46c-1.03 0-1.88-.84-1.88-1.88v-1c0-1.03.84-1.88 1.88-1.88h6c1.03 0 1.88.84 1.88 1.88v1c0 1.03-.84 1.88-1.88 1.88H9Zm7.86 8.17a.99.99 0 0 1-1.09.21.988.988 0 0 1-.32-.21.99.99 0 0 1-.29-.71c0-.26.1-.52.29-.71.27-.28.72-.36 1.09-.21.12.05.23.12.32.21.19.19.29.45.29.71 0 .27-.1.52-.29.71Zm.22-4.33a.99.99 0 0 1-.93.62c-.26 0-.51-.1-.7-.29a1 1 0 0 1-.3-.71c0-.26.11-.52.3-.71.37-.37 1.04-.37 1.41 0 .19.19.3.45.3.71 0 .13-.03.26-.08.38Z",fill:r}))},Ae=function(t){var r=t.color;return o.createElement(o.Fragment,null,o.createElement("path",{d:"M3 12.97V15c0 5 2 7 7 7h4c5 0 7-2 7-7V9c0-5-2-7-7-7h-4C5 2 3 4 3 9",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M16.5 7.578v1c0 .82-.67 1.5-1.5 1.5H9c-.82 0-1.5-.67-1.5-1.5v-1c0-.82.67-1.5 1.5-1.5h6c.83 0 1.5.67 1.5 1.5Z",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M8.136 14h.012M11.995 14h.012M15.855 14h.011M8.136 17.5h.012M11.995 17.5h.012M15.855 17.5h.011",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},Ze=function(t){var r=t.color;return o.createElement(o.Fragment,null,o.createElement("path",{opacity:".4",d:"M8 22h8c2.76 0 5-2.24 5-5V7c0-2.76-2.24-5-5-5H8C5.24 2 3 4.24 3 7v10c0 2.76 2.24 5 5 5Z",fill:r}),o.createElement("path",{d:"M15.001 5.71h-6c-1.03 0-1.88.84-1.88 1.88v1c0 1.03.84 1.88 1.88 1.88h6c1.03 0 1.88-.84 1.88-1.88v-1c0-1.04-.84-1.88-1.88-1.88ZM8.158 14.919c-.14 0-.27-.03-.39-.08a1 1 0 0 1-.62-.92c0-.13.03-.26.08-.38a.998.998 0 0 1 1.31-.54c.06.02.12.05.17.09.06.03.11.08.15.12.09.1.17.2.22.33.05.12.07.25.07.38a.99.99 0 0 1-.99 1ZM12.148 14.921c-.26 0-.51-.1-.7-.29a1 1 0 0 1-.3-.71c0-.26.11-.52.3-.71.37-.37 1.04-.37 1.41 0 .09.1.17.2.22.33.05.12.07.25.07.38a.99.99 0 0 1-1 1ZM16.148 14.921c-.26 0-.51-.1-.7-.29a1 1 0 0 1-.3-.71c0-.26.11-.52.3-.71.37-.37 1.04-.37 1.41 0 .19.19.3.45.3.71 0 .13-.03.26-.08.38s-.12.23-.22.33a.99.99 0 0 1-.71.29ZM8.158 18.92a.99.99 0 0 1-.71-.29 1 1 0 0 1-.3-.71c0-.26.11-.52.3-.71.09-.09.2-.16.32-.21.25-.1.52-.1.77 0 .06.02.12.05.17.09.06.03.11.08.15.12.19.19.3.45.3.71a1 1 0 0 1-.3.71c-.19.19-.44.29-.7.29ZM12.148 18.92c-.26 0-.51-.1-.7-.29a1 1 0 0 1-.3-.71c0-.07.01-.13.02-.2l.06-.18.09-.18c.04-.05.08-.1.13-.15a1.017 1.017 0 0 1 1.41 0c.19.19.29.45.29.71 0 .27-.1.52-.29.71-.09.09-.2.16-.32.21-.12.05-.25.08-.39.08ZM16.15 18.92c-.13 0-.26-.03-.38-.08a.988.988 0 0 1-.32-.21.99.99 0 0 1-.29-.71c0-.26.1-.52.29-.71.27-.28.72-.36 1.09-.21.12.05.23.12.32.21.19.19.29.45.29.71a.99.99 0 0 1-1 1Z",fill:r}))},P=function(t){var r=t.color;return o.createElement(o.Fragment,null,o.createElement("path",{d:"M10 22h4c5 0 7-2 7-7V9c0-5-2-7-7-7h-4C5 2 3 4 3 9v6c0 5 2 7 7 7Z",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M16.5 7.58v1c0 .82-.67 1.5-1.5 1.5H9c-.82 0-1.5-.67-1.5-1.5v-1c0-.82.67-1.5 1.5-1.5h6c.83 0 1.5.67 1.5 1.5Z",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M8.136 14h.012M11.995 14h.012M15.854 14h.012M8.136 17.5h.012M11.995 17.5h.012M15.854 17.5h.012",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},Oe=function(t){var r=t.color;return o.createElement(o.Fragment,null,o.createElement("path",{d:"M14 22.75h-4c-5.43 0-7.75-2.32-7.75-7.75V9c0-5.43 2.32-7.75 7.75-7.75h4c5.43 0 7.75 2.32 7.75 7.75v6c0 5.43-2.32 7.75-7.75 7.75Zm-4-20C5.39 2.75 3.75 4.39 3.75 9v6c0 4.61 1.64 6.25 6.25 6.25h4c4.61 0 6.25-1.64 6.25-6.25V9c0-4.61-1.64-6.25-6.25-6.25h-4Z",fill:r}),o.createElement("path",{d:"M15 10.828H9c-1.24 0-2.25-1.01-2.25-2.25v-1c0-1.24 1.01-2.25 2.25-2.25h6c1.24 0 2.25 1.01 2.25 2.25v1c0 1.24-1.01 2.25-2.25 2.25Zm-6-4c-.41 0-.75.34-.75.75v1c0 .41.34.75.75.75h6c.41 0 .75-.34.75-.75v-1c0-.41-.34-.75-.75-.75H9ZM8.15 14.919c-.13 0-.26-.03-.38-.08a.988.988 0 0 1-.32-.21.99.99 0 0 1-.29-.71.986.986 0 0 1 .29-.71c.04-.04.09-.09.15-.12.05-.04.11-.07.17-.09a.998.998 0 0 1 1.31.54c.05.12.08.25.08.38a1 1 0 0 1-.3.71.99.99 0 0 1-.71.29ZM12.16 14.922a.99.99 0 0 1-1-1 .986.986 0 0 1 .29-.71c.04-.04.09-.09.15-.12.05-.04.11-.07.17-.09a.972.972 0 0 1 .77 0c.12.05.23.12.32.21.09.1.17.2.22.33.05.12.08.25.08.38a1 1 0 0 1-.3.71c-.19.19-.44.29-.7.29ZM16.15 14.921c-.13 0-.26-.03-.38-.08a.988.988 0 0 1-.54-.54.986.986 0 0 1-.07-.38.986.986 0 0 1 .29-.71c.37-.37 1.04-.37 1.41 0 .19.19.3.45.3.71a1 1 0 0 1-.3.71c-.18.18-.43.29-.71.29ZM8.158 18.919a.99.99 0 0 1-.71-.29 1 1 0 0 1-.3-.71 1.017 1.017 0 0 1 .45-.83c.05-.04.11-.07.17-.09.06-.03.13-.05.19-.06.33-.06.67.04.9.27.05.05.09.1.13.15l.09.18.06.18c.01.07.02.13.02.2a1 1 0 0 1-.3.71c-.19.19-.44.29-.7.29ZM12.158 18.919a.99.99 0 0 1-.71-.29 1 1 0 0 1-.3-.71c0-.26.11-.52.3-.71.23-.23.58-.33.9-.27.06.01.13.03.19.06.06.02.12.05.17.09.05.03.1.08.15.12.19.19.29.45.29.71a.99.99 0 0 1-.99 1ZM16.15 18.92a.99.99 0 0 1-.99-1c0-.26.1-.52.29-.71.09-.09.2-.16.32-.21.37-.15.82-.07 1.09.21.19.19.29.45.29.71 0 .27-.1.52-.29.71-.09.09-.2.16-.32.21-.12.05-.25.08-.39.08Z",fill:r}))},We=function(t){var r=t.color;return o.createElement(o.Fragment,null,o.createElement("path",{d:"M10 22h4c5 0 7-2 7-7V9c0-5-2-7-7-7h-4C5 2 3 4 3 9v6c0 5 2 7 7 7Z",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{opacity:".4",d:"M16.5 7.578v1c0 .82-.67 1.5-1.5 1.5H9c-.82 0-1.5-.67-1.5-1.5v-1c0-.82.67-1.5 1.5-1.5h6c.83 0 1.5.67 1.5 1.5Z",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{opacity:".4",d:"M8.136 14h.012M11.995 14h.012M15.855 14h.011M8.136 17.5h.012M11.995 17.5h.012M15.855 17.5h.011",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},Le=function(t,r){switch(t){case"Bold":return o.createElement(Se,{color:r});case"Broken":return o.createElement(Ae,{color:r});case"Bulk":return o.createElement(Ze,{color:r});case"Linear":return o.createElement(P,{color:r});case"Outline":return o.createElement(Oe,{color:r});case"TwoTone":return o.createElement(We,{color:r});default:return o.createElement(P,{color:r})}},L=j.forwardRef(function(n,t){var r=n.variant,i=n.color,l=n.size,d=ee(n,De);return o.createElement("svg",te({},d,{xmlns:"http://www.w3.org/2000/svg",ref:t,width:l,height:l,viewBox:"0 0 24 24",fill:"none"}),Le(r,i))});L.propTypes={variant:f.oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:f.string,size:f.oneOfType([f.string,f.number])};L.defaultProps={variant:"Linear",color:"currentColor",size:"24"};L.displayName="Calculator";function G({column:n}){const t=S(),r=i=>{pe({id:n.id,title:i.target.value,itemIds:n.itemIds})};return e.jsx(re,{fullWidth:!0,value:n.title,onChange:r,sx:{mb:1.5,fontWeight:500,"& input:focus":{bgcolor:t.palette.mode===M.DARK?"secondary.100":"secondary.lighter"},"& input:hover":{bgcolor:t.palette.mode===M.DARK?"secondary.100":"secondary.lighter"},"& input:hover + fieldset":{display:"block"},"&, & input":{bgcolor:"transparent"},"& fieldset":{display:"none"},"& input:focus + fieldset":{display:"block"}}})}G.propTypes={column:f.any};function Be(n,t,r,i){const l=H(r.palette.background.paper,.99);return{userSelect:"none",margin:"0 0 8px 0",padding:16,border:"1px solid",borderColor:r.palette.divider,backgroundColor:n?l:r.palette.background.paper,borderRadius:i,...t}}function N({item:n,index:t}){const r=S(),{backlogs:i}=z(),l=!!n.image,d=i==null?void 0:i.userStory.filter(u=>{var A;return(A=u==null?void 0:u.itemIds)==null?void 0:A.filter(_=>_===n.id)[0]})[0],h=u=>{fe(u)},[c,g]=j.useState(null),m=u=>{g(u==null?void 0:u.currentTarget)},x=()=>{g(null)},[a,s]=j.useState(!1),b=u=>{s(!1),u&&(je(n.id),W({open:!0,message:"Task Deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"}}))},[k,w]=j.useState(!1),T=()=>{w(u=>!u)},Q=()=>{w(u=>!u)};return e.jsx(U,{draggableId:n.id,index:t,children:(u,A)=>e.jsxs("div",{ref:u.innerRef,...u.draggableProps,...u.dragHandleProps,style:Be(A.isDragging,u.draggableProps.style,r,"12px"),children:[e.jsxs(C,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:d?-.75:0},children:[e.jsx(O,{onClick:()=>h(n.id),variant:"subtitle1",sx:{display:"inline-block",width:"calc(100% - 34px)",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",verticalAlign:"middle",cursor:"pointer","&:hover":{textDecoration:"underline"}},children:n.title}),e.jsx(v,{size:"small",color:"secondary",onClick:m,"aria-controls":"menu-comment","aria-haspopup":"true",children:e.jsx(Te,{})}),e.jsxs(ne,{id:"menu-comment",anchorEl:c,keepMounted:!0,open:!!c,onClose:x,variant:"selectedMenu",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsx(R,{onClick:()=>{x(),h(n.id)},children:"Edit"}),e.jsx(R,{onClick:()=>{x(),s(!0)},children:"Delete"})]}),e.jsx(me,{title:n.title,open:a,handleClose:b})]}),d&&e.jsxs(e.Fragment,{children:[e.jsxs(C,{direction:"row",spacing:.5,alignItems:"center",children:[e.jsx(E,{title:"User Story",children:e.jsx(xe,{size:16,style:{color:r.palette.primary.dark}})}),e.jsx(E,{title:d.title,children:e.jsxs(oe,{variant:"caption",color:"primary.dark",underline:"hover",onClick:Q,sx:{cursor:"pointer",pt:.5},children:["User Story #",d.id]})})]}),e.jsx(ge,{story:d,open:k,handleDrawerOpen:T})]}),l&&e.jsx(ae,{component:"img",image:se(`${n.image}`,ie.PROFILE),sx:{width:"100%",borderRadius:1,mt:1.5},title:"Slider5 image"})]})},n.id)}N.propTypes={item:f.any,index:f.number};const ze=new V.Chance;function q({columnId:n}){const[t,r]=j.useState(!1),i=()=>{r(a=>!a)},[l,d]=j.useState(""),[h,c]=j.useState(!1),g=a=>{(a.key==="Enter"||a.keyCode===13)&&m()},m=()=>{if(l.length>0){const a={id:`${ze.integer({min:1e3,max:9999})}`,title:l,dueDate:Ee(new Date,{days:0,hours:1,minutes:45}),image:!1,assign:"",description:"",priority:"low",attachments:[]};ke(n,a,"0"),W({open:!0,message:"Task Added successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"}}),i(),d("")}else c(!0)},x=a=>{const s=a.target.value;d(s),s.length<=0?c(!0):c(!1)};return e.jsxs(p,{container:!0,alignItems:"center",spacing:1,sx:{marginTop:1},children:[t&&e.jsx(p,{item:!0,xs:12,children:e.jsx(D,{content:!1,children:e.jsx(B,{sx:{p:2,pb:1.5,transition:"background-color 0.25s ease-out"},children:e.jsxs(p,{container:!0,alignItems:"center",spacing:.5,children:[e.jsx(p,{item:!0,xs:12,children:e.jsx(F,{fullWidth:!0,placeholder:"Add Task",value:l,onChange:x,sx:{mb:3,"& input":{bgcolor:"transparent",p:0,borderRadius:"0px"},"& fieldset":{display:"none"},"& .MuiFormHelperText-root":{ml:0},"& .MuiOutlinedInput-root":{bgcolor:"transparent","&.Mui-focused":{boxShadow:"none"}}},onKeyUp:g,helperText:h?"Task title is required.":"",error:h})}),e.jsx(p,{item:!0,children:e.jsx(v,{children:e.jsx(le,{})})}),e.jsx(p,{item:!0,children:e.jsx(v,{children:e.jsx(L,{})})}),e.jsx(p,{item:!0,xs:!0,zeroMinWidth:!0}),e.jsx(p,{item:!0,children:e.jsxs(C,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(E,{title:"Cancel",children:e.jsx(v,{size:"small",color:"error",onClick:i,children:e.jsx(K,{style:{transform:"rotate(45deg)"}})})}),e.jsx(I,{variant:"contained",color:"primary",onClick:m,size:"small",children:"Add"})]})})]})})})}),!t&&e.jsx(p,{item:!0,xs:12,children:e.jsx(I,{variant:"dashed",color:"secondary",fullWidth:!0,onClick:i,children:"Add Task"})})]})}q.propTypes={columnId:f.string};function Y({title:n,open:t,handleClose:r}){return e.jsx(ce,{open:t,onClose:()=>r(!1),keepMounted:!0,TransitionComponent:de,maxWidth:"xs","aria-labelledby":"column-delete-title","aria-describedby":"column-delete-description",children:e.jsx(ue,{sx:{mt:2,my:1},children:e.jsxs(C,{alignItems:"center",spacing:3.5,children:[e.jsx(he,{color:"error",sx:{width:72,height:72,fontSize:"1.75rem"},children:e.jsx($,{variant:"Bold"})}),e.jsxs(C,{spacing:2,children:[e.jsx(O,{variant:"h4",align:"center",children:"Are you sure you want to delete?"}),e.jsxs(O,{align:"center",children:["By deleting",e.jsxs(O,{variant:"subtitle1",component:"span",children:[" ",'"',n,'"'," "]}),"column, all task inside that column will also be deleted."]})]}),e.jsxs(C,{direction:"row",spacing:2,sx:{width:1},children:[e.jsx(I,{fullWidth:!0,onClick:()=>r(!1),color:"secondary",variant:"outlined",children:"Cancel"}),e.jsx(I,{fullWidth:!0,color:"error",variant:"contained",onClick:()=>r(!0),autoFocus:!0,children:"Delete"})]})]})})})}Y.propTypes={title:f.string,open:f.bool,handleClose:f.func};function Re(n,t,r,i){return{minWidth:250,border:"1px solid",borderColor:r.palette.divider,borderRadius:i,userSelect:"none",margin:"0 16px 0 0",height:"100%",...t}}function Pe(n,t,r){const i=t.palette.mode===M.DARK?t.palette.background.default:t.palette.secondary[200],l=t.palette.mode===M.DARK?t.palette.text.disabled:H(t.palette.secondary.light,.65);return{background:n?l:i,padding:"8px 16px 14px",width:"auto",borderRadius:r}}function J({column:n,index:t}){const r=S(),{backlogs:i}=z(),l=n.itemIds.map(m=>i==null?void 0:i.items.filter(x=>x.id===m)[0]),d=()=>{c(!0)},[h,c]=j.useState(!1),g=m=>{c(!1),m&&(be(n.id),W({open:!0,message:"Column deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"}}))};return e.jsx(U,{draggableId:n.id,index:t,children:(m,x)=>e.jsx("div",{ref:m.innerRef,...m.draggableProps,...m.dragHandleProps,style:Re(x.isDragging,m.draggableProps.style,r,"12px"),children:e.jsx(X,{droppableId:n.id,type:"item",children:(a,s)=>e.jsxs("div",{ref:a.innerRef,...a.droppableProps,style:Pe(s.isDraggingOver,r,"12px"),children:[e.jsxs(p,{container:!0,alignItems:"center",spacing:3,children:[e.jsx(p,{item:!0,xs:!0,zeroMinWidth:!0,children:e.jsx(G,{column:n})}),e.jsxs(p,{item:!0,sx:{mb:1.5},children:[e.jsx(E,{title:"Delete Column",children:e.jsx(v,{onClick:d,"aria-controls":"menu-simple-card","aria-haspopup":"true",color:"error",size:"small",children:e.jsx($,{variant:"Bold"})})}),e.jsx(Y,{title:n.title,open:h,handleClose:g})]})]}),l.map((b,k)=>e.jsx(N,{item:b,index:k},k)),a.placeholder,e.jsx(q,{columnId:n.id})]})})})})}J.propTypes={column:f.any,index:f.number};const He=new V.Chance;function Fe(){const n=S(),[t,r]=j.useState(""),[i,l]=j.useState(!1),[d,h]=j.useState(!1),c=()=>{h(a=>!a)},g=()=>{if(t.length>0){const a={id:`${He.integer({min:1e3,max:9999})}`,title:t,itemIds:[]};Ce(a),W({open:!0,message:"Column Added successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"}}),h(s=>!s),r("")}else l(!0)},m=a=>{(a.key==="Enter"||a.keyCode===13)&&g()},x=a=>{const s=a.target.value;r(s),s.length<=0?l(!0):l(!1)};return e.jsx(D,{sx:{minWidth:250,backgroundColor:n.palette.mode===M.DARK?n.palette.background.default:n.palette.secondary[200],height:"100%",borderColor:n.palette.divider},contentSX:{p:1.5,"&:last-of-type":{pb:1.5}},children:e.jsxs(p,{container:!0,alignItems:"center",spacing:1,children:[d&&e.jsx(p,{item:!0,xs:12,children:e.jsx(D,{content:!1,children:e.jsx(B,{sx:{p:2,pb:1.5,transition:"background-color 0.25s ease-out"},children:e.jsxs(p,{container:!0,alignItems:"center",spacing:.5,children:[e.jsx(p,{item:!0,xs:12,children:e.jsx(F,{fullWidth:!0,placeholder:"Add Column",value:t,onChange:x,sx:{mb:3,"& input":{bgcolor:"transparent",p:0,borderRadius:"0px"},"& fieldset":{display:"none"},"& .MuiFormHelperText-root":{ml:0},"& .MuiOutlinedInput-root":{bgcolor:"transparent","&.Mui-focused":{boxShadow:"none"}}},onKeyUp:m,helperText:i?"Column title is required.":"",error:i})}),e.jsx(p,{item:!0,xs:!0,zeroMinWidth:!0}),e.jsx(p,{item:!0,children:e.jsxs(C,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(E,{title:"Cancel",children:e.jsx(v,{size:"small",color:"error",onClick:c,children:e.jsx(K,{style:{transform:"rotate(45deg)"}})})}),e.jsx(I,{variant:"contained",color:"primary",onClick:g,size:"small",children:"Add"})]})})]})})})}),!d&&e.jsx(p,{item:!0,xs:12,children:e.jsx(I,{variant:"dashed",color:"secondary",fullWidth:!0,onClick:c,children:"Add Column"})})]})})}const Ke=()=>({p:2.5,px:0,bgcolor:"transparent",display:"flex",overflow:"auto"}),y=[120,100,160,80,60];function ot(){const n=S(),{backlogs:t,backlogsLoading:r}=z(),i=l=>{let d;const{source:h,destination:c,draggableId:g,type:m}=l;if(!c||c.droppableId===h.droppableId&&c.index===h.index)return;if(m==="column"){const s=Array.from(t==null?void 0:t.columnsOrder);s.splice(h.index,1),s.splice(c==null?void 0:c.index,0,g),Me(s);return}const x=t==null?void 0:t.columns.filter(s=>s.id===h.droppableId)[0],a=t==null?void 0:t.columns.filter(s=>s.id===c.droppableId)[0];if(x===a){const s=Array.from(x.itemIds);s.splice(h.index,1),s.splice(c.index,0,g);const b={...x,itemIds:s};d=t==null?void 0:t.columns.map(k=>k.id===b.id?b:k)}else{const s=Array.from(x.itemIds);s.splice(h.index,1);const b={...x,itemIds:s},k=Array.from(a.itemIds);k.splice(c.index,0,g);const w={...a,itemIds:k};d=t==null?void 0:t.columns.map(T=>T.id===b.id?b:T.id===w.id?w:T)}Ie(d)};return e.jsxs(B,{sx:{display:"flex"},children:[e.jsx(we,{children:e.jsx(ye,{onDragEnd:i,children:e.jsx(X,{droppableId:"columns",direction:"horizontal",type:"column",children:l=>e.jsxs(D,{border:!1,ref:l.innerRef,sx:{bgcolor:"transparent"},contentSX:Ke(),...l.droppableProps,children:[t==null?void 0:t.columnsOrder.map((d,h)=>{const c=t==null?void 0:t.columns.filter(g=>g.id===d)[0];return r?e.jsx(D,{content:!1,sx:{p:1.5,margin:"0 16px 0 0",minWidth:250,bgcolor:n.palette.mode===M.DARK?"background.default":"secondary.lighter"},children:e.jsxs(C,{spacing:1.25,children:[e.jsx(Z,{variant:"rounded",width:"100%",height:38}),e.jsx(Z,{variant:"rounded",width:"100%",height:y[Math.floor(Math.random()*y.length)]}),e.jsx(Z,{variant:"rounded",width:"100%",height:y[Math.floor(Math.random()*y.length)]}),e.jsx(Z,{variant:"rounded",width:"100%",height:y[Math.floor(Math.random()*y.length)]})]})}):e.jsx(J,{column:c,index:h},d)}),l.placeholder,e.jsx(Fe,{})]})})})}),e.jsx(ve,{})]})}export{ot as default};
