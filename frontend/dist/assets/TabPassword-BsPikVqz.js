import{r as g,j as s,M as $,bq as Z,aW as G,aX as P,aP as U,G as o,S as w,J as y,X as C,I as b,b4 as S,B as V,T as X,af as H,ao as d,ag as t,Z as c,d as E}from"./index-BE75cmpZ.js";import{m as L,i as M,a as N,b as O,c as q}from"./password-validation-DO7-1Ri2.js";import{I as k}from"./InputAdornment-CY-Tyt4a.js";import{E as A}from"./Eye-BRgheOyE.js";import{E as I}from"./EyeSlash-CGe2uNp7.js";import{L as l}from"./ListItem-eemVPKEi.js";import{M as p}from"./Minus-YvqWlFLu.js";import"./ListItemSecondaryAction-DuTfPZL3.js";function rs(){const[h,T]=g.useState(!1),[j,v]=g.useState(!1),[u,z]=g.useState(!1),B=()=>{T(!h)},D=()=>{v(!j)},F=()=>{z(!u)},f=e=>{e.preventDefault()};return s.jsx($,{title:"Change Password",children:s.jsx(Z,{initialValues:{old:"",password:"",confirm:"",submit:null},validationSchema:G().shape({old:P().required("Old Password is required"),password:P().required("New Password is required").matches(/^.*(?=.{8,})((?=.*[!@#$%^&*()\-_=+{};:,<.>]){1})(?=.*\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/,"Password must contain at least 8 characters, one uppercase, one number and one special case character"),confirm:P().required("Confirm Password is required").test("confirm","Passwords don't match.",(e,a)=>a.parent.password===e)}),onSubmit:async(e,{resetForm:a,setErrors:i,setStatus:m,setSubmitting:x})=>{try{U({open:!0,message:"Password changed successfully.",variant:"alert",alert:{color:"success"}}),a(),m({success:!1}),x(!1)}catch(n){m({success:!1}),i({submit:n.message}),x(!1)}},children:({errors:e,handleBlur:a,handleChange:i,handleSubmit:m,isSubmitting:x,touched:n,values:r})=>s.jsx("form",{noValidate:!0,onSubmit:m,children:s.jsxs(o,{container:!0,spacing:3,children:[s.jsxs(o,{item:!0,container:!0,spacing:3,xs:12,sm:6,children:[s.jsxs(o,{item:!0,xs:12,children:[s.jsxs(w,{spacing:1,children:[s.jsx(y,{htmlFor:"password-old",children:"Old Password"}),s.jsx(C,{id:"password-old",placeholder:"Enter Old Password",type:h?"text":"password",value:r.old,name:"old",onBlur:a,onChange:i,endAdornment:s.jsx(k,{position:"end",children:s.jsx(b,{"aria-label":"toggle password visibility",onClick:B,onMouseDown:f,edge:"end",size:"large",color:"secondary",children:h?s.jsx(A,{}):s.jsx(I,{})})}),autoComplete:"password-old"})]}),n.old&&e.old&&s.jsx(S,{error:!0,id:"password-old-helper",children:e.old})]}),s.jsxs(o,{item:!0,xs:12,children:[s.jsxs(w,{spacing:1,children:[s.jsx(y,{htmlFor:"password-password",children:"New Password"}),s.jsx(C,{id:"password-password",placeholder:"Enter New Password",type:j?"text":"password",value:r.password,name:"password",onBlur:a,onChange:i,endAdornment:s.jsx(k,{position:"end",children:s.jsx(b,{"aria-label":"toggle password visibility",onClick:D,onMouseDown:f,edge:"end",size:"large",color:"secondary",children:j?s.jsx(A,{}):s.jsx(I,{})})}),autoComplete:"password-password"})]}),n.password&&e.password&&s.jsx(S,{error:!0,id:"password-password-helper",children:e.password})]}),s.jsxs(o,{item:!0,xs:12,children:[s.jsxs(w,{spacing:1,children:[s.jsx(y,{htmlFor:"password-confirm",children:"Confirm Password"}),s.jsx(C,{id:"password-confirm",placeholder:"Enter Confirm Password",type:u?"text":"password",value:r.confirm,name:"confirm",onBlur:a,onChange:i,endAdornment:s.jsx(k,{position:"end",children:s.jsx(b,{"aria-label":"toggle password visibility",onClick:F,onMouseDown:f,edge:"end",size:"large",color:"secondary",children:u?s.jsx(A,{}):s.jsx(I,{})})}),autoComplete:"password-confirm"})]}),n.confirm&&e.confirm&&s.jsx(S,{error:!0,id:"password-confirm-helper",children:e.confirm})]})]}),s.jsx(o,{item:!0,xs:12,sm:6,children:s.jsxs(V,{sx:{p:{xs:0,sm:2,md:4,lg:5}},children:[s.jsx(X,{variant:"h5",children:"New Password must contain:"}),s.jsxs(H,{sx:{p:0,mt:1},children:[s.jsxs(l,{divider:!0,children:[s.jsx(d,{sx:{color:L(r.password)?"success.main":"inherit"},children:L(r.password)?s.jsx(t,{}):s.jsx(p,{})}),s.jsx(c,{primary:"At least 8 characters"})]}),s.jsxs(l,{divider:!0,children:[s.jsx(d,{sx:{color:M(r.password)?"success.main":"inherit"},children:M(r.password)?s.jsx(t,{}):s.jsx(p,{})}),s.jsx(c,{primary:"At least 1 lower letter (a-z)"})]}),s.jsxs(l,{divider:!0,children:[s.jsx(d,{sx:{color:N(r.password)?"success.main":"inherit"},children:N(r.password)?s.jsx(t,{}):s.jsx(p,{})}),s.jsx(c,{primary:"At least 1 uppercase letter (A-Z)"})]}),s.jsxs(l,{divider:!0,children:[s.jsx(d,{sx:{color:O(r.password)?"success.main":"inherit"},children:O(r.password)?s.jsx(t,{}):s.jsx(p,{})}),s.jsx(c,{primary:"At least 1 number (0-9)"})]}),s.jsxs(l,{children:[s.jsx(d,{sx:{color:q(r.password)?"success.main":"inherit"},children:q(r.password)?s.jsx(t,{}):s.jsx(p,{})}),s.jsx(c,{primary:"At least 1 special characters"})]})]})]})}),s.jsx(o,{item:!0,xs:12,children:s.jsxs(w,{direction:"row",justifyContent:"flex-end",alignItems:"center",spacing:2,children:[s.jsx(E,{variant:"outlined",color:"secondary",children:"Cancel"}),s.jsx(E,{disabled:x||Object.keys(e).length!==0,type:"submit",variant:"contained",children:"Update Profile"})]})})]})})})})}export{rs as default};
