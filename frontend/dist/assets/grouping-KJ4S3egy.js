import{r as p,j as e,y as d,M as v,a1 as M,S as T,I as G,aT as k,v as E,aC as K,B as D,P as R}from"./index-BE75cmpZ.js";import{u as P,f as l,i as V,j as N,g as A}from"./index-OdbGXu2K.js";import{u as B}from"./index-yB1aAx2d.js";import{S as O}from"./ScrollX-CyXoT44w.js";import{C as H}from"./Filter-y71UMtT7.js";import{L}from"./LinearWithLabel-KVFg8Iwf.js";import{m as W}from"./react-table-Lij528qs.js";import{T as $,a as F,b as X}from"./TableContainer-s0yUIJEg.js";import{T as q}from"./TableHead-DpC64hQ0.js";import{T as c}from"./TableRow-D1lYbwwu.js";import{T as m}from"./TableCell-BOHhKnuh.js";import{C as J}from"./Command-kWGiR8gt.js";import"./DocumentDownload-DDJvvIVF.js";import"./Slider-BUeMRvnO.js";import"./visuallyHidden-Dan1xhjv.js";import"./Send-DGO5bAte.js";import"./Pagination-BWXH2B2W.js";import"./index-ZtNy4ppB.js";import"./Checkbox-DNUoWgPJ.js";import"./Minus-YvqWlFLu.js";import"./mock-data-CjOvdTvj.js";import"./index-cq_cuLYi.js";function S({columns:g,data:u}){var y,w;const[n,z]=p.useState(["age"]),i=P({data:u,columns:g,state:{grouping:n},onGroupingChange:z,getExpandedRowModel:V(),getGroupedRowModel:N(),getCoreRowModel:A(),debugTable:!0}),h=p.useRef(null),{rows:x}=i.getRowModel(),f=B({count:x.length,getScrollElement:()=>h.current,estimateSize:()=>34,overscan:10}),r=f.getVirtualItems(),I=f.getTotalSize(),j=r.length>0&&((y=r==null?void 0:r[0])==null?void 0:y.start)||0,b=r.length>0?I-(((w=r==null?void 0:r[r.length-1])==null?void 0:w.end)||0):0;let C=[];return i.getAllColumns().map(a=>C.push({label:typeof a.columnDef.header=="string"?a.columnDef.header:"#",key:a.columnDef.accessorKey})),e.jsx(v,{content:!1,title:"Grouping With Seperate Column",secondary:e.jsx(H,{data:i.getGroupedRowModel().rows.map(a=>a.original),headers:C,filename:"grouping.csv"}),children:e.jsx(O,{children:e.jsx($,{component:M,ref:h,sx:{height:544,overflow:"auto"},children:e.jsxs(F,{children:[e.jsx(q,{className:"sticky-header",children:i.getHeaderGroups().map(a=>e.jsx(c,{children:a.headers.map(t=>e.jsx(m,{...t.column.columnDef.meta,children:t.isPlaceholder?null:e.jsxs(T,{direction:"row",alignItems:"center",children:[t.column.getCanGroup()&&e.jsx(G,{color:t.column.getIsGrouped()?"error":"primary",onClick:t.column.getToggleGroupingHandler(),size:"small",sx:{p:0,width:24,height:24,fontSize:"1rem",mr:.75},children:t.column.getIsGrouped()?e.jsx(k,{size:"32",variant:"Outline"}):e.jsx(J,{size:"32",variant:"Outline"})}),l(t.column.columnDef.header,t.getContext())]})},t.id))},a.id))}),e.jsxs(X,{children:[j>0&&e.jsx(c,{children:e.jsx(m,{sx:{height:`${j}px`}})}),r.map(a=>{const t=x[a.index];return e.jsx(c,{children:t.getVisibleCells().map(o=>{let s="background.paper";return o.getIsGrouped()&&(s="success.lighter"),o.getIsAggregated()&&(s="warning.lighter"),o.getIsPlaceholder()&&(s="error.lighter"),o.column.columnDef.meta!==void 0&&o.column.getCanSort()&&Object.assign(o.column.columnDef.meta,{style:{backgroundColor:s}}),e.jsx(m,{...o.column.columnDef.meta,sx:{bgcolor:s},...o.getIsGrouped()&&o.column.columnDef.meta===void 0&&{style:{backgroundColor:s}},children:o.getIsGrouped()?e.jsxs(T,{direction:"row",alignItems:"center",spacing:.5,children:[e.jsx(G,{color:"secondary",onClick:t.getToggleExpandedHandler(),size:"small",sx:{p:0,width:24,height:24},children:t.getIsExpanded()?e.jsx(E,{size:"32",variant:"Outline"}):e.jsx(K,{size:"32",variant:"Outline"})}),e.jsx(D,{children:l(o.column.columnDef.cell,o.getContext())})," ",e.jsxs(D,{children:["(",t.subRows.length,")"]})]}):o.getIsAggregated()?l(o.column.columnDef.aggregatedCell??o.column.columnDef.cell,o.getContext()):o.getIsPlaceholder()?null:l(o.column.columnDef.cell,o.getContext())},o.id)})},t.id)}),b>0&&e.jsx(c,{children:e.jsx(m,{sx:{height:`${b}px`}})})]})]})})})})}function fe(){const g=W(100),u=p.useMemo(()=>[{header:"First Name",accessorKey:"firstName",enableGrouping:!1},{header:"Last Name",accessorKey:"lastName",enableGrouping:!1},{header:"Email",accessorKey:"email",enableGrouping:!1},{header:"Age",accessorKey:"age",meta:{className:"cell-right"}},{header:"Visits",accessorKey:"visits",enableGrouping:!1,meta:{className:"cell-right"}},{header:"Status",accessorKey:"status",cell:n=>{switch(n.getValue()){case"Complicated":return e.jsx(d,{color:"error",label:"Complicated",size:"small",variant:"light"});case"Relationship":return e.jsx(d,{color:"success",label:"Relationship",size:"small",variant:"light"});case"Single":default:return e.jsx(d,{color:"info",label:"Single",size:"small",variant:"light"})}}},{header:"Profile Progress",accessorKey:"progress",cell:n=>e.jsx(L,{value:n.getValue(),sx:{minWidth:75}}),enableGrouping:!1}],[]);return e.jsx(S,{data:g,columns:u})}S.propTypes={columns:R.array,data:R.array};export{fe as default};
