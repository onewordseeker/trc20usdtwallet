import{ay as m,au as b,r as S,c$ as f,ax as c}from"./index-BE75cmpZ.js";const d=new m.Chance,l="mantis-ts-cart",i={key:"cart"},g={step:0,products:[],subtotal:0,total:0,discount:0,shipping:0,billing:null,payment:{type:"free",method:"card",card:""}};function w(){const a=localStorage.getItem(l),{data:e,isLoading:t}=b(i.key,()=>a?JSON.parse(a):g,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1,onSuccess(r){localStorage.setItem(l,JSON.stringify(r))}});return S.useMemo(()=>({cart:e,cartLoading:t}),[e,t])}function P(a,e){let t,s,r=0,n;s={...a,itemId:d.timestamp()},r=s.quantity*s.offerPrice,t=f.filter(e,{id:s.id,color:s.color,size:s.size}),t&&t.length>0?n=e.map(o=>s.id===o.id&&s.color===o.color&&s.size===o.size?{...s,quantity:s.quantity+t[0].quantity}:o):n=[...e,s],c(i.key,u=>{const o={...u,products:n,subtotal:u.subtotal+r,total:u.total+r};return localStorage.setItem(l,JSON.stringify(o)),o},!1)}function O(a,e,t){let s,r=0,n=0,u;s=f.filter(t,{itemId:a})[0],r=e*s.offerPrice,n=0,u=t.map(o=>a===o.itemId?(n=o.quantity*(o.offerPrice||0),{...o,quantity:e}):o),c(i.key,o=>{const y={...o,products:u,subtotal:o.subtotal-n+r,total:o.total-n+r};return localStorage.setItem(l,JSON.stringify(y)),y},!1)}function h(a,e){let t,s=0,r;t=f.filter(e,{itemId:a})[0],s=t.quantity*t.offerPrice,r=f.filter(e,n=>n.itemId!==a),c(i.key,n=>{const u={...n,products:r,subtotal:n.subtotal-s,total:n.total-s};return localStorage.setItem(l,JSON.stringify(u)),u},!1)}function I(a){c(i.key,e=>{const t={...e,step:a};return localStorage.setItem(l,JSON.stringify(t)),t},!1)}function v(){c(i.key,a=>{const e={...a,step:a.step+1};return localStorage.setItem(l,JSON.stringify(e)),e},!1)}function N(){c(i.key,a=>{const e={...a,step:a.step-1};return localStorage.setItem(l,JSON.stringify(e)),e},!1)}function J(a){c(i.key,e=>{const t={...e,billing:a};return localStorage.setItem(l,JSON.stringify(t)),t},!1)}function C(a,e){let t=0;if(e>0)switch(a){case"BERRY50":t=d.integer({min:1,max:e<49?e:49});break;case"FLAT05":t=e<5?e:5;break;case"SUB150":t=e<150?e:150;break;case"UPTO200":t=d.integer({min:1,max:e<199?e:199});break;default:t=0}let s=0;c(i.key,r=>{r.discount>0&&(s=r.discount);const n={...r,discount:t,total:r.total+s-t};return localStorage.setItem(l,JSON.stringify(n)),n},!1)}function L(a){c(i.key,e=>{const t={...e,payment:{...e.payment,method:a}};return localStorage.setItem(l,JSON.stringify(t)),t},!1)}function D(a){c(i.key,e=>{const t={...e,payment:{...e.payment,card:a}};return localStorage.setItem(l,JSON.stringify(t)),t},!1)}function x(){c(i.key,()=>(localStorage.setItem(l,JSON.stringify(g)),g),!1)}const p=[{label:"Light Primary",value:"primary200",bg:"primary.200"},{label:"Dark Primary",value:"primaryDark",bg:"primary.dark"},{label:"Light Secondary",value:"secondary200",bg:"secondary.200"},{label:"Secondary",value:"secondaryMain",bg:"secondary.main"},{label:"Light Green",value:"successLight",bg:"success.light"},{label:"Green",value:"successMain",bg:"success.main"},{label:"Dark Green",value:"successDark",bg:"success.dark"},{label:"Light Red",value:"errorLight",bg:"error.light"},{label:"Red",value:"errorMain",bg:"error.main"},{label:"Dark Red",value:"errorDark",bg:"error.dark"},{label:"Yellow",value:"warningMain",bg:"warning.main"},{label:"Dark Yellow",value:"warningDark",bg:"warning.dark"}],R=p;export{R as C,P as a,D as b,L as c,J as d,I as e,h as f,O as g,v as h,N as i,x as r,C as s,w as u};
