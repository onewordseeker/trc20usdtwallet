import{r as u,j as e,M as D,P as n,S as H,e as b,I as C,bt as z,E as B,G as T}from"./index-BE75cmpZ.js";import{u as R,f as y,g as K}from"./index-OdbGXu2K.js";import{S}from"./ScrollX-CyXoT44w.js";import{C as E,a as F,b as G}from"./Filter-y71UMtT7.js";import{m as w}from"./react-table-Lij528qs.js";import{T as N,a as M,b as v}from"./TableContainer-s0yUIJEg.js";import{T as P}from"./TableHead-DpC64hQ0.js";import{T as g}from"./TableRow-D1lYbwwu.js";import{T as j}from"./TableCell-BOHhKnuh.js";import{S as L}from"./Send-DGO5bAte.js";import"./DocumentDownload-DDJvvIVF.js";import"./LinearWithLabel-KVFg8Iwf.js";import"./Slider-BUeMRvnO.js";import"./visuallyHidden-Dan1xhjv.js";import"./Pagination-BWXH2B2W.js";import"./index-ZtNy4ppB.js";import"./Checkbox-DNUoWgPJ.js";import"./Minus-YvqWlFLu.js";import"./mock-data-CjOvdTvj.js";import"./index-cq_cuLYi.js";function k({columns:o,data:c,setData:a}){const i=R({data:c,columns:o,defaultColumn:{cell:F},getCoreRowModel:K(),meta:{updateData:(s,r,m)=>{a(x=>x.map((t,l)=>l===s?{...x[s],[r]:m}:t))}},debugTable:!0});let d=[];return i.getAllColumns().map(s=>s.columnDef.accessorKey&&d.push({label:typeof s.columnDef.header=="string"?s.columnDef.header:"#",key:s.columnDef.accessorKey})),e.jsx(D,{content:!1,title:"Editable Cell",secondary:e.jsx(E,{data:i.getRowModel().flatRows.map(s=>s.original),headers:d,filename:"editable-cell.csv"}),children:e.jsx(S,{children:e.jsx(N,{children:e.jsxs(M,{children:[e.jsx(P,{children:i.getHeaderGroups().map(s=>e.jsx(g,{children:s.headers.map(r=>e.jsx(j,{...r.column.columnDef.meta,children:r.isPlaceholder?null:y(r.column.columnDef.header,r.getContext())},r.id))},s.id))}),e.jsx(v,{children:i.getRowModel().rows.map(s=>e.jsx(g,{children:s.getVisibleCells().map(r=>e.jsx(j,{...r.column.columnDef.meta,children:y(r.column.columnDef.cell,r.getContext())},r.id))},s.id))})]})})})})}function X(){const[o,c]=u.useState(()=>w(10)),a=u.useMemo(()=>[{header:"First Name",accessorKey:"firstName",dataType:"text"},{header:"Last Name",accessorKey:"lastName",dataType:"text"},{header:"Email",accessorKey:"email",dataType:"text"},{header:"Age",accessorKey:"age",dataType:"text",meta:{className:"cell-right"}},{header:"Visits",accessorKey:"visits",dataType:"text",meta:{className:"cell-right"}},{header:"Status",accessorKey:"status",dataType:"select"},{header:"Profile Progress",accessorKey:"progress",dataType:"progress"}],[]);return e.jsx(k,{data:o,columns:a,setData:c})}k.propTypes={columns:n.array,data:n.array,setData:n.any};function A({row:o,table:c}){var d;const a=(d=c==null?void 0:c.options)==null?void 0:d.meta,i=s=>{a==null||a.setSelectedRow(r=>({...r,[o.id]:!r[o.id]})),a==null||a.revertData(o.index,(s==null?void 0:s.currentTarget.name)==="cancel")};return e.jsxs(H,{direction:"row",spacing:1,alignItems:"center",children:[(a==null?void 0:a.selectedRow[o.id])&&e.jsx(b,{title:"Cancel",children:e.jsx(C,{color:"error",name:"cancel",onClick:i,children:e.jsx(z,{size:"15",variant:"Outline"})})}),e.jsx(b,{title:a!=null&&a.selectedRow[o.id]?"Save":"Edit",children:e.jsx(C,{color:a!=null&&a.selectedRow[o.id]?"success":"primary",onClick:i,children:a!=null&&a.selectedRow[o.id]?e.jsx(L,{size:"15",variant:"Outline"}):e.jsx(B,{variant:"Outline"})})})]})}function V({columns:o,data:c,setData:a}){const[i,d]=u.useState(()=>[...c]),[s,r]=u.useState({}),m=R({data:c,columns:o,defaultColumn:{cell:G},getCoreRowModel:K(),meta:{selectedRow:s,setSelectedRow:r,revertData:(t,l)=>{l?a(f=>f.map((p,h)=>h===t?i[t]:p)):d(f=>f.map((p,h)=>h===t?c[t]:p))},updateData:(t,l,f)=>{a(p=>p.map((h,O)=>O===t?{...p[t],[l]:f}:h))}},debugTable:!0});let x=[];return m.getAllColumns().map(t=>t.columnDef.accessorKey&&x.push({label:typeof t.columnDef.header=="string"?t.columnDef.header:"#",key:t.columnDef.accessorKey})),e.jsx(D,{content:!1,title:"Editable Row",secondary:e.jsx(E,{data:m.getRowModel().flatRows.map(t=>t.original),headers:x,filename:"editable-row.csv"}),children:e.jsx(S,{children:e.jsx(N,{children:e.jsxs(M,{children:[e.jsx(P,{children:m.getHeaderGroups().map(t=>e.jsx(g,{children:t.headers.map(l=>e.jsx(j,{...l.column.columnDef.meta,children:l.isPlaceholder?null:y(l.column.columnDef.header,l.getContext())},l.id))},t.id))}),e.jsx(v,{children:m.getRowModel().rows.map(t=>e.jsx(g,{children:t.getVisibleCells().map(l=>e.jsx(j,{...l.column.columnDef.meta,children:y(l.column.columnDef.cell,l.getContext())},l.id))},t.id))})]})})})})}function $(){const[o,c]=u.useState(()=>w(10)),a=u.useMemo(()=>[{header:"First Name",accessorKey:"firstName",dataType:"text"},{header:"Last Name",accessorKey:"lastName",dataType:"text"},{header:"Email",accessorKey:"email",dataType:"text"},{header:"Age",accessorKey:"age",dataType:"text",meta:{className:"cell-right"}},{header:"Visits",accessorKey:"visits",dataType:"text",meta:{className:"cell-right"}},{header:"Status",accessorKey:"status",dataType:"select"},{header:"Profile Progress",accessorKey:"progress",dataType:"progress"},{header:"Actions",id:"edit",cell:A,meta:{className:"cell-center"}}],[]);return e.jsx(V,{data:o,columns:a,setData:c})}A.propTypes={row:n.object,table:n.object};V.propTypes={columns:n.array,data:n.array,setData:n.any};function me(){return e.jsxs(T,{container:!0,spacing:3,children:[e.jsx(T,{item:!0,xs:12,children:e.jsx($,{})}),e.jsx(T,{item:!0,xs:12,children:e.jsx(X,{})})]})}export{me as default};
