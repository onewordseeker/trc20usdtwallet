import{bK as ce,bL as le,aO as A,bM as z,bf as u,r as s,bO as pe,c as ue,be as T,bQ as de,cx as fe,bT as me,j as w,bU as $,cn as De,bV as be,cy as ge,bW as he}from"./index-BE75cmpZ.js";import{F as xe}from"./Fab-BeKSZ_So.js";function ye(o){return le("MuiSpeedDial",o)}const E=ce("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),Ce=["ref"],Se=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],we=["ref"],Ee=o=>{const{classes:n,open:l,direction:d}=o,b={root:["root",`direction${z(d)}`],fab:["fab"],actions:["actions",!l&&"actionsClosed"]};return be(b,ye,n)};function D(o){if(o==="up"||o==="down")return"vertical";if(o==="right"||o==="left")return"horizontal"}const c=32,F=16,Fe=A("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(o,n)=>{const{ownerState:l}=o;return[n.root,n[`direction${z(l.direction)}`]]}})(({theme:o,ownerState:n})=>u({zIndex:(o.vars||o).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},n.direction==="up"&&{flexDirection:"column-reverse",[`& .${E.actions}`]:{flexDirection:"column-reverse",marginBottom:-c,paddingBottom:F+c}},n.direction==="down"&&{flexDirection:"column",[`& .${E.actions}`]:{flexDirection:"column",marginTop:-c,paddingTop:F+c}},n.direction==="left"&&{flexDirection:"row-reverse",[`& .${E.actions}`]:{flexDirection:"row-reverse",marginRight:-c,paddingRight:F+c}},n.direction==="right"&&{flexDirection:"row",[`& .${E.actions}`]:{flexDirection:"row",marginLeft:-c,paddingLeft:F+c}})),Pe=A(xe,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(o,n)=>n.fab})(()=>({pointerEvents:"auto"})),Re=A("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(o,n)=>{const{ownerState:l}=o;return[n.actions,!l.open&&n.actionsClosed]}})(({ownerState:o})=>u({display:"flex",pointerEvents:"auto"},!o.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),Le=s.forwardRef(function(n,l){const d=pe({props:n,name:"MuiSpeedDial"}),b=ue(),V={enter:b.transitions.duration.enteringScreen,exit:b.transitions.duration.leavingScreen},{ariaLabel:k,FabProps:{ref:W}={},children:H,className:Q,direction:P="up",hidden:Z=!1,icon:g,onBlur:O,onClose:a,onFocus:I,onKeyDown:K,onMouseEnter:j,onMouseLeave:B,onOpen:h,open:q,TransitionComponent:G=ge,transitionDuration:J=V,TransitionProps:X}=d,x=T(d.FabProps,Ce),Y=T(d,Se),[r,f]=de({controlled:q,default:!1,name:"SpeedDial",state:"open"}),y=u({},d,{open:r,direction:P}),C=Ee(y),m=fe(),R=s.useRef(0),M=s.useRef(),p=s.useRef([]);p.current=[p.current[0]];const ee=s.useCallback(e=>{p.current[0]=e},[]),oe=me(W,ee),ne=(e,t)=>i=>{p.current[e+1]=i,t&&t(i)},te=e=>{K&&K(e);const t=e.key.replace("Arrow","").toLowerCase(),{current:i=t}=M;if(e.key==="Escape"){f(!1),p.current[0].focus(),a&&a(e,"escapeKeyDown");return}if(D(t)===D(i)&&D(t)!==void 0){e.preventDefault();const L=t===i?1:-1,S=he(R.current+L,0,p.current.length-1);p.current[S].focus(),R.current=S,M.current=i}};s.useEffect(()=>{r||(R.current=0,M.current=void 0)},[r]);const N=e=>{e.type==="mouseleave"&&B&&B(e),e.type==="blur"&&O&&O(e),m.clear(),e.type==="blur"?m.start(0,()=>{f(!1),a&&a(e,"blur")}):(f(!1),a&&a(e,"mouseLeave"))},se=e=>{x.onClick&&x.onClick(e),m.clear(),r?(f(!1),a&&a(e,"toggle")):(f(!0),h&&h(e,"toggle"))},U=e=>{e.type==="mouseenter"&&j&&j(e),e.type==="focus"&&I&&I(e),m.clear(),r||m.start(0,()=>{f(!0),h&&h(e,{focus:"focus",mouseenter:"mouseEnter"}[e.type])})},v=k.replace(/^[^a-z]+|[^\w:.-]+/gi,""),_=s.Children.toArray(H).filter(e=>s.isValidElement(e)),re=_.map((e,t)=>{const i=e.props,{FabProps:{ref:L}={},tooltipPlacement:S}=i,ie=T(i.FabProps,we),ae=S||(D(P)==="vertical"?"left":"top");return s.cloneElement(e,{FabProps:u({},ie,{ref:ne(t,L)}),delay:30*(r?t:_.length-t),open:r,tooltipPlacement:ae,id:`${v}-action-${t}`})});return w.jsxs(Fe,u({className:$(C.root,Q),ref:l,role:"presentation",onKeyDown:te,onBlur:N,onFocus:U,onMouseEnter:U,onMouseLeave:N,ownerState:y},Y,{children:[w.jsx(G,u({in:!Z,timeout:J,unmountOnExit:!0},X,{children:w.jsx(Pe,u({color:"primary","aria-label":k,"aria-haspopup":"true","aria-expanded":r,"aria-controls":`${v}-actions`},x,{onClick:se,className:$(C.fab,x.className),ref:oe,ownerState:y,children:s.isValidElement(g)&&De(g,["SpeedDialIcon"])?s.cloneElement(g,{open:r}):g}))})),w.jsx(Re,{id:`${v}-actions`,role:"menu","aria-orientation":D(P),className:$(C.actions,!r&&C.actionsClosed),ownerState:y,children:re})]}))});export{Le as S};
