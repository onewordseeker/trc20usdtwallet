import{P as f,c as R,j as e,G as l,B as h,ah as I,ai as k,y as v,S as c,T as i,cZ as H,r as x,k as N,bM as K,K as w,e as u,I as j,w as $,b9 as O,h as B,bp as L,M as G,d as V,F as q,ba as Q}from"./index-BE75cmpZ.js";import{N as U}from"./react-number-format.es-oiMPPs--.js";import{u as _,f as P,h as X,a as Z,g as J,e as W,i as Y}from"./index-OdbGXu2K.js";import{r as ee}from"./index-BLlYVWof.js";import{S as se}from"./ScrollX-CyXoT44w.js";import{R as te}from"./Rating-Dd2nmv1y.js";import{I as T,D as re,S as oe,R as ne,H as ie,T as le}from"./Filter-y71UMtT7.js";import{E as ce}from"./Eye-BRgheOyE.js";import{E as ae}from"./Edit-8SBZdiAh.js";import{T as de,a as me,b as ge}from"./TableContainer-s0yUIJEg.js";import{T as xe}from"./TableHead-DpC64hQ0.js";import{T as S}from"./TableRow-D1lYbwwu.js";import{T as y}from"./TableCell-BOHhKnuh.js";import"./visuallyHidden-Dan1xhjv.js";import"./DocumentDownload-DDJvvIVF.js";import"./LinearWithLabel-KVFg8Iwf.js";import"./Slider-BUeMRvnO.js";import"./Send-DGO5bAte.js";import"./Pagination-BWXH2B2W.js";import"./index-ZtNy4ppB.js";import"./Checkbox-DNUoWgPJ.js";import"./Minus-YvqWlFLu.js";function E({data:s}){var d;const a=R();return e.jsxs(l,{container:!0,spacing:2.5,sx:{pl:{xs:0,sm:5,md:6,lg:10,xl:12}},children:[e.jsx(l,{item:!0,xs:6,sm:5,md:4,lg:3,children:e.jsxs(h,{sx:{position:"relative"},children:[e.jsx("img",{src:s.image&&I(`${s.image}`,k.ECOMMERCE),alt:"product",style:{background:a.palette.secondary[200],width:"100%"}}),e.jsx(v,{label:s.isStock?"In Stock":"Out of Stock",color:s.isStock?"success":"error",size:"small",sx:{position:"absolute",right:8,top:8}})]})}),e.jsx(l,{item:!0,xs:12,sm:7,md:8,lg:9,children:e.jsxs(c,{spacing:1,sx:{px:2},children:[e.jsx(i,{variant:"h5",children:s==null?void 0:s.name}),e.jsx(i,{color:"text.secondary",children:s==null?void 0:s.about}),e.jsx(te,{name:"read-only",value:s.rating,readOnly:!0}),e.jsx(h,{sx:{width:"80%",pt:2},children:e.jsxs(l,{container:!0,spacing:1,children:[e.jsx(l,{item:!0,xs:4,md:3,children:e.jsx(i,{color:"text.secondary",children:"Categories"})}),e.jsx(l,{item:!0,xs:8,md:9,children:e.jsx(c,{direction:"row",spacing:.5,children:(d=s==null?void 0:s.categories)==null?void 0:d.map((t,o)=>e.jsxs(i,{variant:"h6",sx:{textTransform:"capitalize"},children:[t,(s==null?void 0:s.categories.length)>o+1?",":""]},o))})}),e.jsx(l,{item:!0,xs:4,md:3,children:e.jsx(i,{color:"text.secondary",children:"Qty"})}),e.jsx(l,{item:!0,xs:8,md:9,children:e.jsx(i,{variant:"h6",children:s==null?void 0:s.quantity})}),e.jsx(l,{item:!0,xs:4,md:3,children:e.jsx(i,{color:"text.secondary",children:"Price"})}),e.jsx(l,{item:!0,xs:8,md:9,children:e.jsx(i,{variant:"h5",children:s!=null&&s.salePrice?`$${s==null?void 0:s.salePrice}`:`$${s==null?void 0:s.offerPrice}`})})]})})]})})]})}E.propTypes={data:f.any};const pe=(s,a,d,t)=>{const o=ee(s.getValue(a),d);return t(o),o.passed};function M({data:s,columns:a}){const d=R(),[t,o]=x.useState([{id:"name",desc:!1}]),[m,p]=x.useState({}),[C,b]=x.useState(""),g=_({data:s,columns:a,state:{sorting:t,rowSelection:m,globalFilter:C},enableRowSelection:!0,onSortingChange:o,onRowSelectionChange:p,onGlobalFilterChange:b,getRowCanExpand:()=>!0,getSortedRowModel:X(),getFilteredRowModel:Z(),getCoreRowModel:J(),getPaginationRowModel:W(),getExpandedRowModel:Y(),globalFilterFn:pe,debugTable:!0}),D=B(d.palette.primary.lighter,.1);let F=[];a.map(n=>n.accessorKey&&F.push({label:typeof n.header=="string"?n.header:"#",key:n.accessorKey}));const z=L(),A=()=>{z("/apps/e-commerce/add-new-product")};return e.jsxs(G,{content:!1,children:[e.jsxs(c,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{p:3},children:[e.jsx(re,{value:C??"",onFilterChange:n=>b(String(n)),placeholder:`Search ${s.length} records...`}),e.jsxs(c,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(oe,{getState:g.getState,getAllColumns:g.getAllColumns,setSorting:o}),e.jsx(V,{variant:"contained",startIcon:e.jsx(w,{}),onClick:A,size:"large",children:"Add Product"})]})]}),e.jsx(se,{children:e.jsxs(c,{children:[e.jsx(ne,{selected:Object.keys(m).length}),e.jsx(de,{children:e.jsxs(me,{children:[e.jsx(xe,{children:g.getHeaderGroups().map(n=>e.jsx(S,{children:n.headers.map(r=>(r.column.columnDef.meta!==void 0&&r.column.getCanSort()&&Object.assign(r.column.columnDef.meta,{className:r.column.columnDef.meta.className+" cursor-pointer prevent-select"}),e.jsx(y,{...r.column.columnDef.meta,onClick:r.column.getToggleSortingHandler(),...r.column.getCanSort()&&r.column.columnDef.meta===void 0&&{className:"cursor-pointer prevent-select"},children:r.isPlaceholder?null:e.jsxs(c,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(h,{children:P(r.column.columnDef.header,r.getContext())}),r.column.getCanSort()&&e.jsx(ie,{column:r.column})]})},r.id)))},n.id))}),e.jsx(ge,{children:g.getRowModel().rows.map(n=>e.jsxs(x.Fragment,{children:[e.jsx(S,{children:n.getVisibleCells().map(r=>e.jsx(y,{...r.column.columnDef.meta,children:P(r.column.columnDef.cell,r.getContext())},r.id))}),n.getIsExpanded()&&e.jsx(S,{sx:{"&:hover":{bgcolor:`${D} !important`}},children:e.jsx(y,{colSpan:n.getVisibleCells().length,children:e.jsx(E,{data:n.original})})})]},n.id))})]})}),e.jsxs(e.Fragment,{children:[e.jsx(q,{}),e.jsx(h,{sx:{p:2},children:e.jsx(le,{setPageSize:g.setPageSize,setPageIndex:g.setPageIndex,getState:g.getState,getPageCount:g.getPageCount,initialPageSize:10})})]})]})})]})}function Ne(){const s=H(),a=x.useMemo(()=>[{id:"Row Selection",header:({table:t})=>e.jsx(T,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler()}),cell:({row:t})=>e.jsx(T,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler()})},{header:"#",accessorKey:"id",meta:{className:"cell-center"}},{header:"Product Detail",accessorKey:"name",cell:({row:t,getValue:o})=>e.jsxs(c,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(N,{variant:"rounded",alt:o(),color:"secondary",size:"sm",src:I(`thumbs/${t.original.image?t.original.image:"prod-11.png"}`,k.ECOMMERCE)}),e.jsxs(c,{spacing:0,children:[e.jsx(i,{variant:"subtitle1",children:o()}),e.jsx(i,{variant:"caption",color:"text.secondary",children:t.original.description})]})]})},{header:"Categories",accessorKey:"categories",cell:({row:t})=>{var o;return t.original.categories?e.jsx(c,{direction:"row",spacing:.25,children:(o=t.original)==null?void 0:o.categories.map((m,p)=>e.jsxs(i,{variant:"h6",sx:{textTransform:"capitalize"},children:[K(m),t.original.categories.length>p+1?",":""]},p))}):e.jsx(i,{variant:"h6",children:"-"})}},{header:"Price",accessorKey:"offerPrice",cell:({getValue:t})=>e.jsx(U,{value:t(),displayType:"text",thousandSeparator:!0,prefix:"$"}),meta:{className:"cell-right"}},{header:"Qty",accessorKey:"quantity",meta:{className:"cell-right"}},{header:"Status",accessorKey:"isStock",cell:({getValue:t})=>e.jsx(v,{color:t()?"success":"error",label:t()?"In Stock":"Out of Stock",size:"small",variant:"light"})},{header:"Actions",meta:{className:"cell-center"},cell:({row:t})=>{const o=t.getCanExpand()&&t.getIsExpanded()?e.jsx(w,{style:{transform:"rotate(45deg)"}}):e.jsx(ce,{});return e.jsxs(c,{direction:"row",alignItems:"center",justifyContent:"center",spacing:0,children:[e.jsx(u,{title:"View",children:e.jsx(j,{color:t.getIsExpanded()?"error":"secondary",onClick:t.getToggleExpandedHandler(),children:o})}),e.jsx(u,{title:"Edit",children:e.jsx(j,{color:"primary",onClick:m=>{m.stopPropagation()},children:e.jsx(ae,{})})}),e.jsx(u,{title:"Delete",children:e.jsx(j,{color:"error",onClick:m=>{m.stopPropagation()},children:e.jsx($,{})})})]})}}],[]);let d=[{title:"Home",to:Q},{title:"Product List"}];return e.jsxs(e.Fragment,{children:[e.jsx(O,{custom:!0,heading:"Product List",links:d}),e.jsx(M,{data:s,columns:a})]})}M.propTypes={data:f.array,columns:f.array};export{Ne as default,pe as fuzzyFilter};
