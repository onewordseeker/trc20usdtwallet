import{r as t,j as e,o as y,p as ue,H as xe,M as T,q as S,G as i,S as r,J as d,U as _,V as O,X as H,Y as L,Z as z,n as he,T as c,F as b,d as m,$ as pe}from"./index-BE75cmpZ.js";import{L as fe}from"./LinearWithLabel-KVFg8Iwf.js";import{f as je}from"./Wallet-BmUZPYxw.js";import{C as G}from"./Checkbox-DNUoWgPJ.js";import{A as N}from"./ArrowSwapHorizontal-DthiDrzO.js";import{I as ge}from"./InputAdornment-CY-Tyt4a.js";import{D as Ce}from"./DollarCircle-CMDrO8Q3.js";function ve({rows:V,_open:u=!1,walletAddressForTransferModal:A="",handleTransferModal:B}){const[ye,q]=t.useState(""),[a,J]=t.useState(""),[x,R]=t.useState(0),[U,X]=t.useState(0),[Y,o]=t.useState(""),[k,I]=t.useState(u),[$,Z]=t.useState([]),[K,w]=t.useState(u),[Q,P]=t.useState(!1),ee=()=>I(!0),se=()=>w(!0),j=()=>w(!1),D=()=>{I(!1),B(!1,"")},v=()=>{P(!1),j(),o("")};t.useEffect(()=>{u==!0&&(V.forEach(s=>{Z(l=>[...l,{id:s.id,walletAddress:s.name,supply_wallet:s.supply_wallet}])}),ee(),q(A),F([A]))},[u]);const[E,F]=t.useState([]),[M,te]=t.useState([]),[h,le]=t.useState([]),[ne,re]=t.useState(0),W={PaperProps:{style:{maxHeight:48*4.5+8,width:250}}},[be,ae]=t.useState(!1),oe=s=>{const{target:{value:l}}=s;le(s.target.value),F(typeof l=="string"?l.split(","):l)},ie=s=>{const{target:{value:l}}=s;J(s.target.value),te(typeof l=="string"?l.split(","):l)},de=async()=>{o(""),P(!0),ae(!1);try{for(let s=0;s<h.length;s++){const l=h[s];if(re(s),l!==""){const ce={from:l,to:a,amount:x};try{const n=await je(ce),p="$"+x;if(n!=null&&n.hash){const g=n.hash,C=`Details of #${s}:
       Status: 'Transfer initiated'
       To wallet: ${a}
       Amount: ${p}
       From: ${l}
       Hash: ${g}
`;o(me=>me+C)}else{const g=`Details of #${s}:
       Status: 'Transfer failed'
       To wallet: ${a}
       Amount: ${p}
       From: ${l}
       Error: ${n.message}
`;o(C=>C+g)}const f=100/(h.length-1)*s;console.log(f,"progress",s+1,h.length),X(f)}catch(n){const p=`Details of #${ne}:
       Status: 'Transfer failed'
       To wallet: ${a}
       Error: ${n.message}
`;o(f=>f+p)}}}}catch(s){console.log(s)}};return e.jsxs(e.Fragment,{children:[e.jsx(y,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:k,onClose:D,closeAfterTransition:!0,slots:{backdrop:ue},slotProps:{backdrop:{timeout:500}},children:e.jsx(xe,{in:k,children:e.jsxs(T,{title:"Transfer Funds",modal:!0,darkTitle:!0,content:!1,children:[e.jsxs(S,{children:[e.jsxs(i,{container:!0,xs:12,sm:12,md:12,lg:12,children:[e.jsx(i,{item:!0,xs:12,sm:12,md:5,lg:5,children:e.jsxs(r,{spacing:1,children:[e.jsx(d,{children:"From"}),e.jsxs(_,{children:[e.jsx(d,{id:"demo-multiple-checkbox-label",children:"Select Wallet"}),e.jsx(O,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,fullWidth:!0,value:E,onChange:oe,input:e.jsx(H,{placeholder:"Select Wallet"}),renderValue:s=>s.slice(0,2).join(", "),MenuProps:W,children:$.filter(s=>s.supply_wallet==1).map(s=>e.jsxs(L,{value:s.walletAddress,children:[e.jsx(G,{checked:E.indexOf(s.walletAddress)>-1}),e.jsx(z,{primary:s.id+" ("+s.walletAddress.slice(0,5)+"..."+s.walletAddress.slice(28,34)+")"})]},s.id))})]})]})}),e.jsx(i,{item:!0,xs:12,sm:12,lg:2,md:2,sx:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"25px"},children:e.jsx(N,{})}),e.jsx(i,{item:!0,xs:12,sm:12,md:5,lg:5,children:e.jsxs(r,{spacing:1,children:[e.jsx(d,{children:"To"}),e.jsxs(_,{children:[e.jsx(d,{id:"demo-multiple-checkbox-label",children:"Select Wallet"}),e.jsx(O,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",fullWidth:!0,value:M,onChange:ie,input:e.jsx(H,{placeholder:"Select Wallet"}),renderValue:s=>s.slice(0,2).join(", "),MenuProps:W,children:$.filter(s=>s.supply_wallet==0).map(s=>e.jsxs(L,{value:s.walletAddress,children:[e.jsx(G,{checked:M.indexOf(s.walletAddress)>-1}),e.jsx(z,{primary:s.id+" ("+s.walletAddress.slice(0,5)+"..."+s.walletAddress.slice(28,34)+")"})]},s.id))})]})]})})]}),e.jsx(i,{item:!0,xs:12,lg:12,mt:2,children:e.jsxs(r,{spacing:1,children:[e.jsx(d,{children:"Amount"}),e.jsx(he,{type:"number",fullWidth:!0,value:x,onChange:s=>R(s.target.value),inputProps:{min:0},placeholder:"Enter Amount",InputProps:{startAdornment:e.jsx(ge,{position:"start",children:e.jsx(Ce,{})})}})]})}),e.jsx(c,{sx:{opacity:0},children:"Duis mollis, est non commodo luctus, nisi erat porttitor ligula.Duis mollis, est non c"})]}),e.jsx(b,{}),e.jsxs(r,{direction:"row",spacing:1,justifyContent:"flex-end",sx:{px:2.5,py:2},children:[e.jsx(m,{color:"error",size:"small",onClick:D,children:"Cancel"}),e.jsxs(m,{onClick:se,variant:"contained",size:"small",children:[e.jsx(N,{})," ",e.jsx(c,{sx:{marginLeft:"5px"},children:"Transfer"})]})]})]})})}),e.jsx(y,{open:K,onClose:j,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(T,{title:"Confirm Transfer Funds",modal:!0,darkTitle:!0,content:!1,children:[e.jsx(S,{children:e.jsxs(c,{id:"modal-modal-description",children:["Are you sure you want to transfer ","$"+x," to ",a,"?"]})}),e.jsx(b,{}),e.jsxs(r,{direction:"row",spacing:1,justifyContent:"flex-end",sx:{px:2.5,py:2},children:[e.jsx(m,{color:"error",size:"small",onClick:j,children:"Cancel"}),e.jsx(m,{onClick:de,variant:"contained",size:"small",children:"Submit"})]})]})}),e.jsx(y,{open:Q,onClose:v,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(T,{title:"Transfering Funds",modal:!0,darkTitle:!0,content:!1,children:[e.jsxs(S,{children:[e.jsx(c,{id:"modal-modal-description",children:e.jsx(fe,{variant:"determinate",value:U})}),e.jsx(pe,{children:Y}),e.jsx(c,{sx:{opacity:0},children:"Duis mollis, est non commodo luctus, nisi erat porttitor ligula.Duis mollis, est non c"})]}),e.jsx(b,{}),e.jsx(r,{direction:"row",spacing:1,justifyContent:"flex-end",sx:{px:2.5,py:2},children:e.jsx(m,{color:"error",size:"small",onClick:v,children:"Close"})})]})})]})}export{ve as T};
