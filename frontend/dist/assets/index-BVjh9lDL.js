import{bv as Se,r as Oe}from"./index-BE75cmpZ.js";var X={};(function(A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var O=Z(Oe),Y=["placeholder","separator","isLastChild","ariaLabelOverride","shouldRender","inputStyle","focus","isDisabled","hasErrored","errorStyle","isSuccessed","successStyle","focusStyle","disabledStyle","shouldAutoFocus","isInputNum","index","value","className","isInputSecure","onSubmit"];function T(r){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return(T=function(n){return n?o:a})(r)}function Z(r,a){if(r&&r.__esModule)return r;if(r===null||P(r)!=="object"&&typeof r!="function")return{default:r};var o=T(a);if(o&&o.has(r))return o.get(r);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in r)if(i!=="default"&&Object.prototype.hasOwnProperty.call(r,i)){var s=n?Object.getOwnPropertyDescriptor(r,i):null;s&&(s.get||s.set)?Object.defineProperty(e,i,s):e[i]=r[i]}return e.default=r,o&&o.set(r,e),e}function D(){return D=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(r[e]=o[e])}return r},D.apply(this,arguments)}function ee(r,a){if(r==null)return{};var o=te(r,a),e,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(n=0;n<i.length;n++)e=i[n],!(a.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(r,e)&&(o[e]=r[e])}return o}function te(r,a){if(r==null)return{};var o={},e=Object.keys(r),n,i;for(i=0;i<e.length;i++)n=e[i],!(a.indexOf(n)>=0)&&(o[n]=r[n]);return o}function V(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function re(r,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}function W(r,a,o){return a&&re(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),r}function B(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),a&&N(r,a)}function N(r,a){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},N(r,a)}function M(r){var a=ae();return function(){var e=C(r),n;if(a){var i=C(this).constructor;n=Reflect.construct(e,arguments,i)}else n=e.apply(this,arguments);return ne(this,n)}}function ne(r,a){if(a&&(P(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(r)}function c(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C(r){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},C(r)}function p(r,a,o){return a in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,r}function P(r){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},P(r)}var ue=8,oe=37,ie=39,se=46,le=32,ce=13,b=function(a){return P(a)==="object"},pe=function(r){B(o,r);var a=M(o);function o(e){var n;return V(this,o),n=a.call(this,e),p(c(n),"getClasses",function(){for(var i=arguments.length,s=new Array(i),t=0;t<i;t++)s[t]=arguments[t];return s.filter(function(u){return!b(u)&&u!==!1}).join(" ")}),p(c(n),"getType",function(){var i=n.props,s=i.isInputSecure,t=i.isInputNum;return s?"password":t?"tel":"text"}),p(c(n),"getAriaLabel",function(i,s){var t=n.props.ariaLabelOverride;return t||"".concat(i===0?"Please enter verification code. ":"").concat(s?"Digit":"Character"," ").concat(i+1)}),n.input=O.default.createRef(),n}return W(o,[{key:"componentDidMount",value:function(){var n=this.props,i=n.focus,s=n.shouldAutoFocus,t=this.input.current;t&&i&&s&&t.focus()}},{key:"componentDidUpdate",value:function(n){var i=this.props.focus,s=this.input.current;n.focus!==i&&s&&i&&(s.focus(),s.select())}},{key:"render",value:function(){var n=this.props,i=n.placeholder,s=n.separator,t=n.isLastChild;n.ariaLabelOverride;var u=n.shouldRender,l=n.inputStyle,v=n.focus,g=n.isDisabled,h=n.hasErrored,f=n.errorStyle,y=n.isSuccessed,I=n.successStyle,S=n.focusStyle,m=n.disabledStyle;n.shouldAutoFocus;var E=n.isInputNum,R=n.index,w=n.value,x=n.className;n.isInputSecure,n.onSubmit;var j=ee(n,Y);return O.default.createElement("div",{className:x,style:{display:"flex",alignItems:"center"}},O.default.createElement("input",D({"aria-label":this.getAriaLabel(R,E),style:Object.assign({width:"1em",textAlign:"center",padding:0},b(l)&&l,v&&b(S)&&S,g&&b(m)&&m,h&&!y&&b(f)&&f,y&&!h&&b(I)&&I),placeholder:i,className:this.getClasses(l,v&&S,g&&m,h&&!y&&f,y&&!h&&I),type:this.getType(),ref:this.input,disabled:g,value:w||""},j)),!t&&u&&s)}}]),o}(O.PureComponent),$=function(r){B(o,r);var a=M(o);function o(){var e;V(this,o);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=a.call.apply(a,[this].concat(i)),p(c(e),"state",{activeInput:0}),p(c(e),"getOtpValue",function(){return e.props.value?e.props.value.toString().split(""):[]}),p(c(e),"getPlaceholderValue",function(){var t=e.props,u=t.placeholder,l=t.numInputs;if(typeof u=="string"){if(u.length===l)return u;u.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}}),p(c(e),"handleOtpChange",function(t){var u=e.props.onChange,l=t.join("");u(l)}),p(c(e),"isInputValueValid",function(t){var u=e.props.isInputNum?!isNaN(parseInt(t,10)):typeof t=="string";return u&&t.trim().length===1}),p(c(e),"focusInput",function(t){var u=e.props.numInputs,l=Math.max(Math.min(u-1,t),0);e.setState({activeInput:l})}),p(c(e),"focusNextInput",function(){var t=e.state.activeInput;e.focusInput(t+1)}),p(c(e),"focusPrevInput",function(){var t=e.state.activeInput;e.focusInput(t-1)}),p(c(e),"changeCodeAtFocus",function(t){var u=e.state.activeInput,l=e.getOtpValue();l[u]=t[0],e.handleOtpChange(l)}),p(c(e),"handleOnPaste",function(t){t.preventDefault();var u=e.state.activeInput,l=e.props,v=l.numInputs,g=l.isDisabled;if(!g){for(var h=e.getOtpValue(),f=u,y=t.clipboardData.getData("text/plain"),I=e.props.isInputNum?y.replace(/\D/g,""):y,S=I.slice(0,v-u).split(""),m=0;m<v;++m)m>=u&&S.length>0&&(h[m]=S.shift(),f++);e.setState({activeInput:f},function(){e.focusInput(f),e.handleOtpChange(h)})}}),p(c(e),"handleOnChange",function(t){var u=t.target.value;e.isInputValueValid(u)&&e.changeCodeAtFocus(u)}),p(c(e),"handleOnKeyDown",function(t){t.keyCode===ue||t.key==="Backspace"?(t.preventDefault(),e.changeCodeAtFocus(""),e.focusInput(e.state.activeInput-1)):t.keyCode===se||t.key==="Delete"?(t.preventDefault(),e.changeCodeAtFocus("")):t.keyCode===oe||t.key==="ArrowLeft"?(t.preventDefault(),e.focusPrevInput()):t.keyCode===ie||t.key==="ArrowRight"?(t.preventDefault(),e.focusNextInput()):t.keyCode===le||t.key===" "||t.key==="Spacebar"||t.key==="Space"?t.preventDefault():(t.keyCode===ce||t.key==="Enter")&&e.props.onSubmit()}),p(c(e),"handleOnInput",function(t){var u=t.target.value;if(t.target.value){if(t.target.value&&t.target.value.length>1){t.preventDefault();for(var l=e.props.numInputs,v=e.state.activeInput,g=e.getOtpValue(),h=t.target.value.slice(0,l-v).split(""),f=0;f<l;++f)f>=v&&h.length>0&&(g[f]=h.shift());e.handleOtpChange(g),e.focusInput(e.props.numInputs)}else if(u&&u.trim().length>1)t.clipboardData={getData:function(){return u.trim()}},e.handleOnPaste(t);else if(e.isInputValueValid(t.target.value))e.focusNextInput();else if(!e.props.isInputNum){var y=t.nativeEvent;y.data===null&&y.inputType==="deleteContentBackward"&&(t.preventDefault(),e.changeCodeAtFocus(""),e.focusPrevInput())}}}),p(c(e),"renderInputs",function(){for(var t=e.state.activeInput,u=e.props,l=u.id,v=u.autoComplete,g=u.numInputs,h=u.inputStyle,f=u.focusStyle,y=u.separator,I=u.separateAfter,S=I===void 0?1:I,m=u.isDisabled,E=u.disabledStyle,R=u.hasErrored,w=u.errorStyle,x=u.isSuccessed,j=u.successStyle,de=u.shouldAutoFocus,ve=u.isInputNum,he=u.isInputSecure,ye=u.className,_=u.inputProps,ge=u.onSubmit,q=[],K=e.getOtpValue(),U=e.getPlaceholderValue(),z=e.props["data-cy"],G=e.props["data-testid"],H=e.props["custom-test-attr"],J=e.props["custom-test-id"],me=function(d){var k=void 0;(d+1)%parseInt(S)===0?k=!0:k=!1;var Q={};H&&(Q[H]=J&&"".concat(J,"-").concat(d));var L={};_&&(Array.isArray(_)?_[d]&&(L=_[d]):L=_),q.push(O.default.createElement(pe,D({id:l&&"".concat(l,"-").concat(d),autoComplete:v??"off",placeholder:U&&U[d],key:d,index:d,focus:t===d,value:K&&K[d],onChange:e.handleOnChange,onKeyDown:e.handleOnKeyDown,onInput:e.handleOnInput,onPaste:e.handleOnPaste,onFocus:function(be){e.setState({activeInput:d}),be.target.select()},onBlur:function(){return e.setState({activeInput:-1})},separator:y,inputStyle:h,focusStyle:f,isLastChild:d===g-1,isDisabled:m,disabledStyle:E,hasErrored:R,errorStyle:w,isSuccessed:x,successStyle:j,shouldAutoFocus:de,isInputNum:ve,isInputSecure:he,className:ye,"data-cy":z&&"".concat(z,"-").concat(d),"data-testid":G&&"".concat(G,"-").concat(d),shouldRender:k,onSubmit:ge},L,Q)))},F=0;F<g;F++)me(F);return q}),e}return W(o,[{key:"componentDidUpdate",value:function(){var n=this.props.value,i=this.state.activeInput;n==""&&i>0&&this.setState({activeInput:0})}},{key:"render",value:function(){var n=this.props.containerStyle;return O.default.createElement("div",{style:Object.assign({display:"flex"},b(n)&&n),className:b(n)?"":n},this.renderInputs())}}]),o}(O.Component);p($,"defaultProps",{numInputs:4,onChange:function(a){return console.log(a)},isDisabled:!1,shouldAutoFocus:!1,value:"",isInputSecure:!1,onSubmit:function(a){return console.log(a)}});var fe=$;A.default=fe})(X);const De=Se(X);export{De as O};
